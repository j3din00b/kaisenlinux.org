<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.28.5">
    <meta name="project" content="Manpages v2.1.1">

    <title>buildah-build — Manpages v2.1.1</title>
    <link rel="stylesheet" href="dist/elixir-64c5e2b63575bddb1c5b.css" />

    <script src="dist/sidebar_items-b870e624f4.js"></script>

      <script src="doc-versions.js"></script>

    <script async src="dist/app-b5f3440501744dc8be3d.js"></script>

<link rel="stylesheet" href="assets/doc.css">
  </head>
  <body data-type="extras">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">


<section class="sidebar">
  <button class="sidebar-button sidebar-toggle" aria-label="toggle sidebar">
    <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
  </button>

  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <i class="ri-search-2-line" aria-hidden="true" title="Submit search"></i>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <i class="ri-close-line ri-lg" aria-hidden="true" title="Cancel search"></i>
    </button>
    <label class="search-label">
      <p class="sr-only">Search</p>
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">

      <a href="https://kaisenlinux.org/manpages/">
        <img src="assets/logo.jpg" alt="Manpages" class="sidebar-projectImage">
      </a>

    <div class="sidebar-projectDetails">
      <a href="https://kaisenlinux.org/manpages/" class="sidebar-projectName" translate="no">
Manpages
      </a>
      <strong class="sidebar-projectVersion" translate="no">
        v2.1.1
      </strong>
    </div>
    <ul class="sidebar-listNav">
      <li><a id="extras-list-link" href="#full-list">MANUALS</a></li>


    </ul>
  </div>

  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>
<button class="settings display-settings">
  <i class="ri-settings-3-line"></i>
  <span class="sr-only">Settings</span>
</button>


  <span>buildah-build</span>
</h1>

<p>buildah-build(1)                                                                  General Commands Manual                                                                 buildah-build(1)</p><p>NAME</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">buildah</span><span class="o">-</span><span class="n">build</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nc">Build</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">instructions</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="nc">Containerfiles</span></code></pre><p>SYNOPSIS</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="p" data-group-id="4442120583-1">[</span><span class="n">options</span><span class="p" data-group-id="4442120583-1">]</span><span class="w"> </span><span class="p" data-group-id="4442120583-2">[</span><span class="n">context</span><span class="p" data-group-id="4442120583-2">]</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">bud</span><span class="w"> </span><span class="p" data-group-id="4442120583-3">[</span><span class="n">options</span><span class="p" data-group-id="4442120583-3">]</span><span class="w"> </span><span class="p" data-group-id="4442120583-4">[</span><span class="n">context</span><span class="p" data-group-id="4442120583-4">]</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="o">-</span><span class="n">using</span><span class="o">-</span><span class="n">dockerfile</span><span class="w"> </span><span class="p" data-group-id="4442120583-5">[</span><span class="n">options</span><span class="p" data-group-id="4442120583-5">]</span><span class="w"> </span><span class="p" data-group-id="4442120583-6">[</span><span class="n">context</span><span class="p" data-group-id="4442120583-6">]</span><span class="w">

   </span><span class="n">build</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">aliases</span><span class="w"> </span><span class="n">bud</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">build</span><span class="o">-</span><span class="n">using</span><span class="o">-</span><span class="n">dockerfile</span><span class="o">.</span></code></pre><p>DESCRIPTION</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">Builds</span><span class="w">  </span><span class="n">an</span><span class="w">  </span><span class="n">image</span><span class="w">  </span><span class="n">using</span><span class="w"> </span><span class="n">instructions</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="nc">Containerfiles</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">Dockerfiles</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="n">directory</span><span class="o">.</span><span class="w">  </span><span class="nc">A</span><span class="w"> </span><span class="nc">Containerfile</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">Dockerfile</span><span class="w">
   </span><span class="n">internally</span><span class="o">.</span><span class="w">  </span><span class="nc">For</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">document</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">referred</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">Containerfile</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">named</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="sc">&#39;Containerfile&#39;</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="sc">&#39;Dockerfile&#39;</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">http</span><span class="p" data-group-id="3765309331-1">(</span><span class="n">s</span><span class="p" data-group-id="3765309331-1">)</span><span class="w"> </span><span class="nc">URL</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">archive</span><span class="p">,</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="n">repository</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">Containerfile</span><span class="o">.</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="nc">Buildah</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">assume</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">working</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">contain</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">Containerfile</span><span class="o">.</span><span class="w">

   </span><span class="nc">Containerfiles</span><span class="w"> </span><span class="n">ending</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">&quot;.in&quot;</span><span class="w"> </span><span class="n">suffix</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">preprocessed</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">cpp</span><span class="p" data-group-id="3765309331-2">(</span><span class="mi">1</span><span class="p" data-group-id="3765309331-2">)</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">decompose</span><span class="w"> </span><span class="nc">Containerfiles</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">several</span><span class="w"> </span><span class="n">reusable</span><span class="w"> </span><span class="n">parts</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w">  </span><span class="n">via</span><span class="w">  </span><span class="nc">CPP</span><span class="err">&#39;</span><span class="n">s</span><span class="w">
   </span><span class="c1">#include  directive.   Notice, a Containerfile.in file can still be used by other tools when manually preprocessing them via cpp -E. Any comments ( Lines beginning with # ) in in‐</span><span class="w">
   </span><span class="n">cluded</span><span class="w"> </span><span class="nc">Containerfile</span><span class="p" data-group-id="3765309331-3">(</span><span class="n">s</span><span class="p" data-group-id="3765309331-3">)</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">preprocess</span><span class="w"> </span><span class="n">commands</span><span class="p">,</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">printed</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="n">during</span><span class="w"> </span><span class="n">builds</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">URL</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">archive</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">contents</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">URL</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">downloaded</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">temporary</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">extracted</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">execution</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">URL</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">Containerfile</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">downloaded</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">temporary</span><span class="w"> </span><span class="n">location</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">Git</span><span class="w"> </span><span class="n">repository</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">URL</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">repository</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cloned</span><span class="w"> </span><span class="n">locally</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">context</span><span class="o">.</span></code></pre><p>OPTIONS</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="o">--</span><span class="n">add</span><span class="o">-</span><span class="n">host</span><span class="o">=</span><span class="p" data-group-id="7321016289-1">[</span><span class="p" data-group-id="7321016289-1">]</span><span class="w">

   </span><span class="nc">Add</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">custom</span><span class="w"> </span><span class="n">host</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="nc">IP</span><span class="w"> </span><span class="n">mapping</span><span class="w"> </span><span class="p" data-group-id="7321016289-2">(</span><span class="n">host</span><span class="ss">:ip</span><span class="p" data-group-id="7321016289-2">)</span><span class="w">

   </span><span class="nc">Add</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">hosts</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">hostname</span><span class="ss">:ip</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="o">--</span><span class="n">add</span><span class="o">-</span><span class="n">host</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">annotation</span><span class="w"> </span><span class="n">annotation</span><span class="w">

   </span><span class="nc">Add</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">annotation</span><span class="w"> </span><span class="p" data-group-id="7321016289-3">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">annotation</span><span class="o">=</span><span class="n">value</span><span class="p" data-group-id="7321016289-3">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">metadata</span><span class="o">.</span><span class="w"> </span><span class="nc">Can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="o">.</span><span class="w">

   </span><span class="ss">Note</span><span class="p">:</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">present</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">Docker</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">formats</span><span class="p">,</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">discarded</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">writing</span><span class="w"> </span><span class="n">images</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">Docker</span><span class="w"> </span><span class="n">formats</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">arch</span><span class="o">=</span><span class="s">&quot;ARCH&quot;</span><span class="w">

   </span><span class="nc">Set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">ARCH</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">built</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">pulled</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">one</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">architecture</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="o">.</span><span class="w">  </span><span class="p" data-group-id="7321016289-4">(</span><span class="nc">Exam</span><span class="err">‐</span><span class="w">
   </span><span class="ss">ples</span><span class="p">:</span><span class="w"> </span><span class="n">arm</span><span class="p">,</span><span class="w"> </span><span class="n">arm64</span><span class="p">,</span><span class="w"> </span><span class="mi">386</span><span class="p">,</span><span class="w"> </span><span class="n">amd64</span><span class="p">,</span><span class="w"> </span><span class="n">ppc64le</span><span class="p">,</span><span class="w"> </span><span class="n">s390x</span><span class="p" data-group-id="7321016289-4">)</span><span class="w">

   </span><span class="o">--</span><span class="n">authfile</span><span class="w"> </span><span class="n">path</span><span class="w">

   </span><span class="nc">Path</span><span class="w">  </span><span class="n">of</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="n">authentication</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w"> </span><span class="nc">Default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="err">$</span><span class="p" data-group-id="7321016289-5">{</span><span class="nc">XDG_</span><span class="err">\</span><span class="nc">RUNTIME_DIR</span><span class="p" data-group-id="7321016289-5">}</span><span class="o">/</span><span class="n">containers</span><span class="o">/</span><span class="n">auth</span><span class="o">.</span><span class="n">json</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="nc">XDG_RUNTIME_DIR</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">set</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">containers</span><span class="o">/</span><span class="err">$</span><span class="nc">UID</span><span class="o">/</span><span class="n">auth</span><span class="o">.</span><span class="n">json</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w">
   </span><span class="n">created</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">buildah</span><span class="w"> </span><span class="n">login</span><span class="o">.</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">authorization</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="n">there</span><span class="p">,</span><span class="w"> </span><span class="err">$</span><span class="nc">HOME</span><span class="o">/</span><span class="o">.</span><span class="n">docker</span><span class="o">/</span><span class="n">config</span><span class="o">.</span><span class="n">json</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">checked</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">login</span><span class="o">.</span><span class="w">

   </span><span class="ss">Note</span><span class="p">:</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">override</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">REGISTRY_AUTH_FILE</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="o">.</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="nc">REGISTRY_AUTH_FILE</span><span class="o">=</span><span class="n">path</span><span class="w">

   </span><span class="o">--</span><span class="n">build</span><span class="o">-</span><span class="n">arg</span><span class="w"> </span><span class="n">arg</span><span class="o">=</span><span class="n">value</span><span class="w">

   </span><span class="nc">Specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="n">argument</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">interpolated</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">instructions</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Containerfiles</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">way</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="n">are</span><span class="p">,</span><span class="w">  </span><span class="n">but</span><span class="w">  </span><span class="n">which</span><span class="w">  </span><span class="n">will</span><span class="w">
   </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">added</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">resulting</span><span class="w"> </span><span class="n">image</span><span class="sc">&#39;s configuration.

   Please refer to the BUILD TIME VARIABLES ⟨#build-time-variables⟩ section for the list of variables that can be overridden within the Containerfile at run time.

   --cache-from

   Images to utilise as potential cache sources. Buildah does not currently support --cache-from so this is a NOOP.

   --cap-add=CAP_xxx

   When  executing  RUN instructions, run the command specified in the instruction with the specified capability added to its capability set.  Certain capabilities are granted by de‐
   fault; this option can be used to add more.

   --cap-drop=CAP_xxx

   When executing RUN instructions, run the command specified in the instruction with the specified capability removed from  its  capability  set.   The  CAP_AUDIT_WRITE,  CAP_CHOWN,
   CAP_DAC_OVERRIDE,  CAP_FOWNER, CAP_FSETID, CAP_KILL, CAP_MKNOD, CAP_NET_BIND_SERVICE, CAP_SETFCAP, CAP_SETGID, CAP_SETPCAP, CAP_SETUID, and CAP_SYS_CHROOT capabilities are granted
   by default; this option can be used to remove them.

   If a capability is specified to both the --cap-add and --cap-drop options, it will be dropped, regardless of the order in which the options were given.

   --cert-dir path

   Use certificates at path (*.crt, *.cert, *.key) to connect to the registry.  The default certificates directory is /etc/containers/certs.d.

   --cgroup-parent=&quot;&quot;

   Path to cgroups under which the cgroup for the container will be created. If the path is not absolute, the path is considered to be relative  to  the  cgroups  path  of  the  init
   process. Cgroups will be created if they do not already exist.

   --compress

   This  option  is  added to be aligned with other containers CLIs.  Buildah doesn&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">copy</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">daemon</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">remote</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">  </span><span class="nc">Thus</span><span class="p">,</span><span class="w"> </span><span class="n">compressing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">data</span><span class="w">
   </span><span class="n">before</span><span class="w"> </span><span class="n">sending</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">irrelevant</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nc">Buildah</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">cni</span><span class="o">-</span><span class="n">config</span><span class="o">-</span><span class="n">dir</span><span class="o">=</span><span class="n">directory</span><span class="w">

   </span><span class="nc">Location</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">CNI</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">dictate</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">plugins</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">configure</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">interfaces</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">routing</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">containers</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">handling</span><span class="w"> </span><span class="nc">RUN</span><span class="w"> </span><span class="n">instructions</span><span class="p">,</span><span class="w">
   </span><span class="k">if</span><span class="w"> </span><span class="n">those</span><span class="w"> </span><span class="n">containers</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">own</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">namespaces</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">networking</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">disabled</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">cni</span><span class="o">-</span><span class="n">plugin</span><span class="o">-</span><span class="n">path</span><span class="o">=</span><span class="n">directory</span><span class="p" data-group-id="7321016289-6">[</span><span class="ss">:directory</span><span class="p" data-group-id="7321016289-7">[</span><span class="ss">:directory</span><span class="p" data-group-id="7321016289-8">[</span><span class="n">...</span><span class="p" data-group-id="7321016289-8">]</span><span class="p" data-group-id="7321016289-7">]</span><span class="p" data-group-id="7321016289-6">]</span><span class="w">

   </span><span class="nc">List</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">directories</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">CNI</span><span class="w"> </span><span class="n">plugins</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">configuring</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">namespaces</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">found</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">cpu</span><span class="o">-</span><span class="n">period</span><span class="o">=</span><span class="mi">0</span><span class="w">

   </span><span class="nc">Set</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="nc">CPU</span><span class="w"> </span><span class="n">period</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Completely</span><span class="w"> </span><span class="nc">Fair</span><span class="w"> </span><span class="nc">Scheduler</span><span class="w"> </span><span class="p" data-group-id="7321016289-9">(</span><span class="nc">CFS</span><span class="p" data-group-id="7321016289-9">)</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">duration</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">microseconds</span><span class="o">.</span><span class="w"> </span><span class="nc">Once</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="sc">&#39;s CPU quota is used up, it will not be scheduled to run until
   the current period ends. Defaults to 100000 microseconds.

   On some systems, changing the CPU limits may not be allowed for non-root users. For more details, see https://github.com/containers/podman/blob/main/troubleshooting.md#26-running-
   containers-with-cpu-limits-fails-with-a-permissions-error

   --cpu-quota=0

   Limit the CPU CFS (Completely Fair Scheduler) quota

   Limit the container&#39;</span><span class="n">s</span><span class="w"> </span><span class="nc">CPU</span><span class="w"> </span><span class="n">usage</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">containers</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">full</span><span class="w"> </span><span class="nc">CPU</span><span class="w"> </span><span class="n">resource</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="n">tell</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">restrict</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="sc">&#39;s CPU usage to the quota you specify.

   On some systems, changing the CPU limits may not be allowed for non-root users. For more details, see https://github.com/containers/podman/blob/main/troubleshooting.md#26-running-
   containers-with-cpu-limits-fails-with-a-permissions-error

   --cpu-shares, -c=0

   CPU shares (relative weight)

   By default, all containers get the same proportion of CPU cycles. This proportion can be modified by changing the container&#39;</span><span class="n">s</span><span class="w"> </span><span class="nc">CPU</span><span class="w"> </span><span class="n">share</span><span class="w"> </span><span class="n">weighting</span><span class="w"> </span><span class="n">relative</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">weighting</span><span class="w"> </span><span class="n">of</span><span class="w">  </span><span class="n">all</span><span class="w">
   </span><span class="n">other</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">containers</span><span class="o">.</span><span class="w">

   </span><span class="nc">To</span><span class="w"> </span><span class="n">modify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">proportion</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">--</span><span class="n">cpu</span><span class="o">-</span><span class="n">shares</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">weighting</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">higher</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w">  </span><span class="n">proportion</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">apply</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="nc">CPU</span><span class="o">-</span><span class="n">intensive</span><span class="w"> </span><span class="n">processes</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">running</span><span class="o">.</span><span class="w">  </span><span class="nc">When</span><span class="w"> </span><span class="n">tasks</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">idle</span><span class="p">,</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">containers</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">left</span><span class="o">-</span><span class="n">over</span><span class="w"> </span><span class="nc">CPU</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">actual</span><span class="w"> </span><span class="n">amount</span><span class="w">
   </span><span class="n">of</span><span class="w"> </span><span class="nc">CPU</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">vary</span><span class="w"> </span><span class="n">depending</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">containers</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="o">.</span><span class="w">

   </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">consider</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="n">containers</span><span class="p">,</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">cpu</span><span class="o">-</span><span class="n">share</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">1024</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">others</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">cpu</span><span class="o">-</span><span class="n">share</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">512</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">processes</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="n">containers</span><span class="w"> </span><span class="n">attempt</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w">  </span><span class="mi">100</span><span class="p">%</span><span class="w">  </span><span class="n">of</span><span class="w">
   </span><span class="nc">CPU</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="mi">50</span><span class="p">%</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="nc">CPU</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">fourth</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">cpu</span><span class="o">-</span><span class="n">share</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">gets</span><span class="w"> </span><span class="mi">33</span><span class="p">%</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">CPU</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">remain</span><span class="err">‐</span><span class="w">
   </span><span class="n">ing</span><span class="w"> </span><span class="n">containers</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="mf">16.5</span><span class="p">%</span><span class="p">,</span><span class="w"> </span><span class="mf">16.5</span><span class="p">%</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mi">33</span><span class="p">%</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">CPU</span><span class="o">.</span><span class="w">

   </span><span class="nc">On</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">multi</span><span class="o">-</span><span class="n">core</span><span class="w"> </span><span class="n">system</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">shares</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">CPU</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">distributed</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="nc">CPU</span><span class="w"> </span><span class="n">cores</span><span class="o">.</span><span class="w"> </span><span class="nc">Even</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">limited</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">less</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">100</span><span class="p">%</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">CPU</span><span class="w"> </span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="mi">100</span><span class="p">%</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">individual</span><span class="w">
   </span><span class="nc">CPU</span><span class="w"> </span><span class="n">core</span><span class="o">.</span><span class="w">

   </span><span class="nc">For</span><span class="w">  </span><span class="n">example</span><span class="p">,</span><span class="w">  </span><span class="n">consider</span><span class="w">  </span><span class="n">a</span><span class="w">  </span><span class="n">system</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="n">cores</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="p" data-group-id="7321016289-10">{</span><span class="nc">C0</span><span class="p" data-group-id="7321016289-10">}</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="o">=</span><span class="mi">512</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">process</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="p" data-group-id="7321016289-11">{</span><span class="nc">C1</span><span class="p" data-group-id="7321016289-11">}</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="o">=</span><span class="mi">1024</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">two</span><span class="w">
   </span><span class="n">processes</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">division</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">CPU</span><span class="w"> </span><span class="ss">shares</span><span class="p">:</span><span class="w">

          </span><span class="nc">PID</span><span class="w">    </span><span class="n">container</span><span class="w">    </span><span class="nc">CPU</span><span class="w">  </span><span class="nc">CPU</span><span class="w"> </span><span class="n">share</span><span class="w">
          </span><span class="mi">100</span><span class="w">    </span><span class="p" data-group-id="7321016289-12">{</span><span class="nc">C0</span><span class="p" data-group-id="7321016289-12">}</span><span class="w">         </span><span class="mi">0</span><span class="w">    </span><span class="mi">100</span><span class="p">%</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">CPU0</span><span class="w">
          </span><span class="mi">101</span><span class="w">    </span><span class="p" data-group-id="7321016289-13">{</span><span class="nc">C1</span><span class="p" data-group-id="7321016289-13">}</span><span class="w">         </span><span class="mi">1</span><span class="w">    </span><span class="mi">100</span><span class="p">%</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">CPU1</span><span class="w">
          </span><span class="mi">102</span><span class="w">    </span><span class="p" data-group-id="7321016289-14">{</span><span class="nc">C1</span><span class="p" data-group-id="7321016289-14">}</span><span class="w">         </span><span class="mi">2</span><span class="w">    </span><span class="mi">100</span><span class="p">%</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">CPU2</span><span class="w">

   </span><span class="o">--</span><span class="n">cpuset</span><span class="o">-</span><span class="n">cpus</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="w">

   </span><span class="nc">CPUs</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">execution</span><span class="w"> </span><span class="p" data-group-id="7321016289-15">(</span><span class="mi">0</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p" data-group-id="7321016289-15">)</span><span class="w">

   </span><span class="o">--</span><span class="n">cpuset</span><span class="o">-</span><span class="n">mems</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="w">

   </span><span class="nc">Memory</span><span class="w"> </span><span class="n">nodes</span><span class="w"> </span><span class="p" data-group-id="7321016289-16">(</span><span class="nc">MEMs</span><span class="p" data-group-id="7321016289-16">)</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">execution</span><span class="w"> </span><span class="p" data-group-id="7321016289-17">(</span><span class="mi">0</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p" data-group-id="7321016289-17">)</span><span class="o">.</span><span class="w"> </span><span class="nc">Only</span><span class="w"> </span><span class="n">effective</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">NUMA</span><span class="w"> </span><span class="n">systems</span><span class="o">.</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">four</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">nodes</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="p" data-group-id="7321016289-18">(</span><span class="mi">0</span><span class="o">-</span><span class="mi">3</span><span class="p" data-group-id="7321016289-18">)</span><span class="p">,</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="o">--</span><span class="n">cpuset</span><span class="o">-</span><span class="n">mems</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">processes</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">nodes</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">creds</span><span class="w"> </span><span class="n">creds</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="p" data-group-id="7321016289-19">[</span><span class="n">username</span><span class="p" data-group-id="7321016289-20">[</span><span class="ss">:password</span><span class="p" data-group-id="7321016289-20">]</span><span class="p" data-group-id="7321016289-19">]</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">authenticate</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">registry</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">required</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">supplied</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">prompt</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">appear</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">en</span><span class="err">‐</span><span class="w">
   </span><span class="n">tered</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">entered</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">echo</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">decryption</span><span class="o">-</span><span class="n">key</span><span class="w"> </span><span class="n">key</span><span class="p" data-group-id="7321016289-21">[</span><span class="ss">:passphrase</span><span class="p" data-group-id="7321016289-21">]</span><span class="w">

   </span><span class="nc">The</span><span class="w">  </span><span class="p" data-group-id="7321016289-22">[</span><span class="n">key</span><span class="p" data-group-id="7321016289-23">[</span><span class="ss">:passphrase</span><span class="p" data-group-id="7321016289-23">]</span><span class="p" data-group-id="7321016289-22">]</span><span class="w">  </span><span class="n">to</span><span class="w">  </span><span class="n">be</span><span class="w">  </span><span class="n">used</span><span class="w">  </span><span class="k">for</span><span class="w">  </span><span class="n">decryption</span><span class="w">  </span><span class="n">of</span><span class="w">  </span><span class="n">images</span><span class="o">.</span><span class="w"> </span><span class="nc">Key</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="ow">and</span><span class="o">/</span><span class="ow">or</span><span class="w"> </span><span class="n">certificates</span><span class="o">.</span><span class="w"> </span><span class="nc">Decryption</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">tried</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">keys</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">protected</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">a</span><span class="w">
   </span><span class="n">passphrase</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">passed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">argument</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">omitted</span><span class="w"> </span><span class="n">otherwise</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">device</span><span class="o">=</span><span class="n">device</span><span class="w">

   </span><span class="nc">Add</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="o">.</span><span class="w"> </span><span class="nc">Optional</span><span class="w"> </span><span class="n">permissions</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">permissions</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">combination</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">read</span><span class="p">,</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">write</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">mknod</span><span class="p" data-group-id="7321016289-24">(</span><span class="mi">2</span><span class="p" data-group-id="7321016289-24">)</span><span class="o">.</span><span class="w">

   </span><span class="ss">Example</span><span class="p">:</span><span class="w"> </span><span class="o">--</span><span class="n">device</span><span class="o">=</span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sdc</span><span class="ss">:/</span><span class="n">dev</span><span class="o">/</span><span class="n">xvdc</span><span class="ss">:rwm</span><span class="o">.</span><span class="w">

   </span><span class="ss">Note</span><span class="p">:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="c">_hostdevice</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">symbolic</span><span class="w"> </span><span class="n">link</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">resolved</span><span class="w"> </span><span class="n">first</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">major</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">minor</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">device</span><span class="o">.</span><span class="w">

   </span><span class="ss">Note</span><span class="p">:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">rights</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">group</span><span class="p">,</span><span class="w"> </span><span class="n">accessing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">inside</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">rootless</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">fail</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">crun</span><span class="p" data-group-id="7321016289-25">(</span><span class="mi">1</span><span class="p" data-group-id="7321016289-25">)</span><span class="w"> </span><span class="n">runtime</span><span class="w"> </span><span class="n">offers</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">workaround</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">this</span><span class="w">  </span><span class="n">by</span><span class="w">  </span><span class="n">adding</span><span class="w">
   </span><span class="n">the</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="o">--</span><span class="n">annotation</span><span class="w"> </span><span class="n">run</span><span class="o">.</span><span class="n">oci</span><span class="o">.</span><span class="n">keep_original_groups</span><span class="o">=</span><span class="mi">1</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">disable</span><span class="o">-</span><span class="n">compression</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="nc">D</span><span class="w">

   </span><span class="nc">Don</span><span class="sc">&#39;t compress filesystem layers when building the image unless it is required by the location where the image is being written.  This is the default setting, because image layers
   are compressed automatically when they are pushed to registries, and images being written to local storage would only need to be decompressed again to be stored.  Compression  can
   be forced in all cases by specifying --disable-compression=false.

   --disable-content-trust

   This is a Docker specific option to disable image verification to a Docker registry and is not supported by Buildah.  This flag is a NOOP and provided solely for scripting compat‐
   ibility.

   --dns=[]

   Set custom DNS servers

   This option can be used to override the DNS configuration passed to the container. Typically this is necessary when the host DNS configuration is invalid for the container  (e.g.,
   127.0.0.1). When this is the case the --dns flag is necessary for every run.

   The special value none can be specified to disable creation of /etc/resolv.conf in the container by Buildah. The /etc/resolv.conf file in the image will be used without changes.

   --dns-option=[]

   Set custom DNS options

   --dns-search=[]

   Set custom DNS search domains

   --file, -f Containerfile

   Specifies  a  Containerfile which contains instructions for building the image, either a local file or an http or https URL.  If more than one Containerfile is specified, FROM in‐
   structions will only be accepted from the first specified file.

   If a local file is specified as the Containerfile and it does not exist, the context directory will be prepended to the local file value.

   If you specify -f -, the Containerfile contents will be read from stdin.

   --force-rm bool-value

   Always remove intermediate containers after a build, even if the build fails (default false).

   --format

   Control the format for the built image&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">manifest</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="w">  </span><span class="nc">Recognized</span><span class="w"> </span><span class="n">formats</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">oci</span><span class="w"> </span><span class="p" data-group-id="7321016289-26">(</span><span class="nc">OCI</span><span class="w"> </span><span class="n">image</span><span class="o">-</span><span class="n">spec</span><span class="w"> </span><span class="n">v1</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="p" data-group-id="7321016289-26">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="p" data-group-id="7321016289-27">(</span><span class="n">version</span><span class="w">  </span><span class="mi">2</span><span class="p">,</span><span class="w">  </span><span class="n">using</span><span class="w">  </span><span class="n">schema</span><span class="w">
   </span><span class="n">format</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">manifest</span><span class="p" data-group-id="7321016289-27">)</span><span class="o">.</span><span class="w">

   </span><span class="ss">Note</span><span class="p">:</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">override</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">BUILDAH_FORMAT</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="o">.</span><span class="w">  </span><span class="n">export</span><span class="w"> </span><span class="nc">BUILDAH_FORMAT</span><span class="o">=</span><span class="n">docker</span><span class="w">

   </span><span class="o">--</span><span class="n">from</span><span class="w">

   </span><span class="nc">Overrides</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="nc">FROM</span><span class="w"> </span><span class="n">instruction</span><span class="w"> </span><span class="n">within</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Containerfile</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="nc">FROM</span><span class="w"> </span><span class="n">instructions</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">Containerfile</span><span class="p">,</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">changed</span><span class="o">.</span><span class="w">

   </span><span class="o">-</span><span class="n">h</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">help</span><span class="w">

   </span><span class="nc">Print</span><span class="w"> </span><span class="n">usage</span><span class="w"> </span><span class="n">statement</span><span class="w">

   </span><span class="o">--</span><span class="n">http</span><span class="o">-</span><span class="n">proxy</span><span class="o">=</span><span class="no">true</span><span class="w">

   </span><span class="nc">By</span><span class="w">  </span><span class="n">default</span><span class="w"> </span><span class="n">proxy</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">passed</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">buildah</span><span class="w"> </span><span class="n">process</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">disabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">--</span><span class="n">http</span><span class="o">-</span><span class="n">proxy</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="no">false</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">envi</span><span class="err">‐</span><span class="w">
   </span><span class="n">ronment</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="n">passed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">http_proxy</span><span class="p">,</span><span class="w"> </span><span class="n">https_proxy</span><span class="p">,</span><span class="w"> </span><span class="n">ftp_proxy</span><span class="p">,</span><span class="w"> </span><span class="n">no_proxy</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">upper</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="n">versions</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">those</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">iidfile</span><span class="w"> </span><span class="nc">ImageIDfile</span><span class="w">

   </span><span class="nc">Write</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">built</span><span class="w"> </span><span class="n">image</span><span class="sc">&#39;s ID to the file.  When --platform is specified more than once, attempting to use this option will trigger an error.

   --ignorefile file

   Path to an alternative .containerignore (.dockerignore) file.

   --ipc how

   Sets the configuration for IPC namespaces when handling RUN instructions.  The configured value can be &quot;&quot; (the empty string) or &quot;container&quot; to indicate that a  new  IPC  namespace
   should be created, or it can be &quot;host&quot; to indicate that the IPC namespace in which buildah itself is being run should be reused, or it can be the path to an IPC namespace which is
   already in use by another process.

   --isolation type

   Controls what type of isolation is used for running processes as part of RUN instructions.  Recognized types include oci (OCI-compatible runtime, the default), rootless  (OCI-com‐
   patible  runtime  invoked using a modified configuration, with --no-new-keyring added to its create invocation, reusing the host&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">UTS</span><span class="w"> </span><span class="n">namespaces</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">private</span><span class="w">
   </span><span class="nc">IPC</span><span class="p">,</span><span class="w"> </span><span class="nc">PID</span><span class="p">,</span><span class="w"> </span><span class="n">mount</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">namespaces</span><span class="p">;</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">unprivileged</span><span class="w"> </span><span class="n">users</span><span class="p">)</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">chroot</span><span class="w"> </span><span class="p" data-group-id="7321016289-28">(</span><span class="n">an</span><span class="w"> </span><span class="n">internal</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">leans</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">toward</span><span class="w"> </span><span class="n">chroot</span><span class="p" data-group-id="7321016289-29">(</span><span class="mi">1</span><span class="p" data-group-id="7321016289-29">)</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">technology</span><span class="p">,</span><span class="w"> </span><span class="n">reusing</span><span class="w">  </span><span class="n">the</span><span class="w">
   </span><span class="n">host</span><span class="sc">&#39;s control group, network, IPC, and PID namespaces, and creating private mount and UTS namespaces, and creating user namespaces only when they&#39;</span><span class="n">re</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">mapping</span><span class="p" data-group-id="7321016289-28">)</span><span class="o">.</span><span class="w">

   </span><span class="ss">Note</span><span class="p">:</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">override</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">isolation</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">BUILDAH_ISOLATION</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="o">.</span><span class="w">  </span><span class="n">export</span><span class="w"> </span><span class="nc">BUILDAH_ISOLATION</span><span class="o">=</span><span class="n">oci</span><span class="w">

   </span><span class="o">--</span><span class="n">jobs</span><span class="w"> </span><span class="nc">N</span><span class="w">

   </span><span class="nc">Run</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nc">N</span><span class="w"> </span><span class="n">concurrent</span><span class="w"> </span><span class="n">stages</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">parallel</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">jobs</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">greater</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">stdin</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">null</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w">
   </span><span class="n">jobs</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">parallel</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">label</span><span class="w"> </span><span class="n">label</span><span class="w">

   </span><span class="nc">Add</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="p" data-group-id="7321016289-30">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">label</span><span class="o">=</span><span class="n">value</span><span class="p" data-group-id="7321016289-30">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">metadata</span><span class="o">.</span><span class="w"> </span><span class="nc">Can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="o">.</span><span class="w">

   </span><span class="nc">Users</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">special</span><span class="w"> </span><span class="nc">LABEL</span><span class="w"> </span><span class="n">io</span><span class="o">.</span><span class="n">containers</span><span class="o">.</span><span class="n">capabilities</span><span class="o">=</span><span class="nc">CAP1</span><span class="p">,</span><span class="nc">CAP2</span><span class="p">,</span><span class="nc">CAP3</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">Containerfile</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="n">capabilities</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w">  </span><span class="n">to</span><span class="w">  </span><span class="n">run</span><span class="w">  </span><span class="n">prop</span><span class="err">‐</span><span class="w">
   </span><span class="n">erly</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w">  </span><span class="n">label</span><span class="w">  </span><span class="n">specified</span><span class="w">  </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">tells</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">engines</span><span class="p">,</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="nc">Podman</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">just</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">capabilities</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">engine</span><span class="w"> </span><span class="n">launches</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">con</span><span class="err">‐</span><span class="w">
   </span><span class="n">tainer</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">just</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">capabilities</span><span class="p">,</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">long</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">capabilities</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">subset</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">list</span><span class="o">.</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">capabilities</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">set</span><span class="p">,</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">engines</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">print</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">capabilities</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">layers</span><span class="w"> </span><span class="n">bool</span><span class="o">-</span><span class="n">value</span><span class="w">

   </span><span class="nc">Cache</span><span class="w"> </span><span class="n">intermediate</span><span class="w"> </span><span class="n">images</span><span class="w"> </span><span class="n">during</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="p" data-group-id="7321016289-31">(</span><span class="nc">Default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="no">false</span><span class="p" data-group-id="7321016289-31">)</span><span class="o">.</span><span class="w">

   </span><span class="ss">Note</span><span class="p">:</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">override</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">layers</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">BUILDAH_LAYERS</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="o">.</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="nc">BUILDAH_LAYERS</span><span class="o">=</span><span class="no">true</span><span class="w">

   </span><span class="o">--</span><span class="n">logfile</span><span class="w"> </span><span class="n">filename</span><span class="w">

   </span><span class="nc">Log</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">error</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">manifest</span><span class="w"> </span><span class="s">&quot;listName&quot;</span><span class="w">

   </span><span class="nc">Name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">manifest</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">built</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">added</span><span class="o">.</span><span class="w">  </span><span class="nc">Creates</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">manifest</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">exist</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">building</span><span class="w"> </span><span class="n">multi</span><span class="w"> </span><span class="n">architecture</span><span class="w"> </span><span class="n">images</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">memory</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="w">

   </span><span class="nc">Memory</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="p" data-group-id="7321016289-32">(</span><span class="ss">format</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7321016289-33">[</span><span class="p" data-group-id="7321016289-33">]</span><span class="p">,</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">unit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">g</span><span class="p" data-group-id="7321016289-32">)</span><span class="w">

   </span><span class="nc">Allows</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">constrain</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">container</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">swap</span><span class="w"> </span><span class="n">memory</span><span class="p">,</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">physical</span><span class="w"> </span><span class="nc">RAM</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">spec</span><span class="err">‐</span><span class="w">
   </span><span class="n">ified</span><span class="w">  </span><span class="p" data-group-id="7321016289-34">(</span><span class="ow">not</span><span class="w">  </span><span class="n">using</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="p" data-group-id="7321016289-34">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="sc">&#39;s memory is not limited. The actual limit may be rounded up to a multiple of the operating system&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="p" data-group-id="7321016289-35">(</span><span class="n">the</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">large</span><span class="p">,</span><span class="w">
   </span><span class="n">that</span><span class="sc">&#39;s millions of trillions).

   --memory-swap=&quot;LIMIT&quot;

   A limit value equal to memory plus swap. Must be used with the  -m (--memory) flag. The swap LIMIT should always be larger than -m (--memory) value.  By default,  the  swap  LIMIT
   will be set to double the value of --memory.

   The  format  of LIMIT is &lt;number&gt;[&lt;unit&gt;]. Unit can be b (bytes), k (kilobytes), m (megabytes), or g (gigabytes). If you don&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">unit</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="o">.</span><span class="w"> </span><span class="nc">Set</span><span class="w"> </span><span class="nc">LIMIT</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w">
   </span><span class="n">unlimited</span><span class="w"> </span><span class="n">swap</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">network</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">net</span><span class="o">=</span><span class="n">mode</span><span class="w">

   </span><span class="nc">Sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">namespaces</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">handling</span><span class="w"> </span><span class="nc">RUN</span><span class="w"> </span><span class="n">instructions</span><span class="o">.</span><span class="w">

   </span><span class="nc">Valid</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="ss">are</span><span class="p">:</span><span class="w">

          </span><span class="err">•</span><span class="w"> </span><span class="ss">none</span><span class="p">:</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">networking</span><span class="p">;</span><span class="w">

          </span><span class="err">•</span><span class="w"> </span><span class="ss">host</span><span class="p">:</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">stack</span><span class="o">.</span><span class="w"> </span><span class="ss">Note</span><span class="p">:</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">gives</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">full</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">services</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="nc">D</span><span class="o">-</span><span class="n">bus</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">therefore</span><span class="w"> </span><span class="n">considered</span><span class="w"> </span><span class="n">insecure</span><span class="p">;</span><span class="w">

          </span><span class="err">•</span><span class="w"> </span><span class="n">ns</span><span class="ss">:path</span><span class="p">:</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">namespace</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">join</span><span class="p">;</span><span class="w">

          </span><span class="err">•</span><span class="w"> </span><span class="ss">private</span><span class="p">:</span><span class="w"> </span><span class="n">create</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">namespace</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="p" data-group-id="7321016289-36">(</span><span class="n">default</span><span class="p" data-group-id="7321016289-36">)</span><span class="w">

   </span><span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">cache</span><span class="w">

   </span><span class="nc">Do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">existing</span><span class="w"> </span><span class="n">cached</span><span class="w"> </span><span class="n">images</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">build</span><span class="o">.</span><span class="w"> </span><span class="nc">Build</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">cached</span><span class="w"> </span><span class="n">layers</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">os</span><span class="o">=</span><span class="s">&quot;OS&quot;</span><span class="w">

   </span><span class="nc">Set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">OS</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">built</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">pulled</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">one</span><span class="p">,</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">operating</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">pid</span><span class="w"> </span><span class="n">how</span><span class="w">

   </span><span class="nc">Sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">PID</span><span class="w"> </span><span class="n">namespaces</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">handling</span><span class="w"> </span><span class="nc">RUN</span><span class="w"> </span><span class="n">instructions</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="p" data-group-id="7321016289-37">(</span><span class="n">the</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="n">string</span><span class="p" data-group-id="7321016289-37">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s">&quot;private&quot;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">indicate</span><span class="w">  </span><span class="n">that</span><span class="w">  </span><span class="n">a</span><span class="w">  </span><span class="n">new</span><span class="w">  </span><span class="nc">PID</span><span class="w">  </span><span class="n">namespace</span><span class="w">
   </span><span class="n">should</span><span class="w">  </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="s">&quot;host&quot;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">indicate</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PID</span><span class="w"> </span><span class="n">namespace</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">buildah</span><span class="w"> </span><span class="n">itself</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">reused</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">PID</span><span class="w"> </span><span class="n">namespace</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w">
   </span><span class="n">already</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">process</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">platform</span><span class="o">=</span><span class="s">&quot;OS/ARCH[/VARIANT]&quot;</span><span class="w">

   </span><span class="nc">Set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">OS</span><span class="o">/</span><span class="nc">ARCH</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">built</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="p" data-group-id="7321016289-38">(</span><span class="ow">and</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="n">image</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">one</span><span class="p" data-group-id="7321016289-38">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">operating</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">architecture</span><span class="w">  </span><span class="n">of</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="n">host</span><span class="w">
   </span><span class="p" data-group-id="7321016289-39">(</span><span class="k">for</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">linux</span><span class="o">/</span><span class="n">arm</span><span class="p" data-group-id="7321016289-39">)</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="o">--</span><span class="n">platform</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">set</span><span class="p">,</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">--</span><span class="n">arch</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">os</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="o">--</span><span class="n">variant</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">overridden</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w">  </span><span class="o">--</span><span class="n">platform</span><span class="w">  </span><span class="n">flag</span><span class="w">  </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">once</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">comma</span><span class="o">-</span><span class="n">separated</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">argument</span><span class="o">.</span><span class="w">  </span><span class="nc">When</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">platform</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">--</span><span class="n">manifest</span><span class="w"> </span><span class="n">option</span><span class="w">
   </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">--</span><span class="n">tag</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

   </span><span class="nc">OS</span><span class="o">/</span><span class="nc">ARCH</span><span class="w"> </span><span class="n">pairs</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">those</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Go</span><span class="w"> </span><span class="nc">Programming</span><span class="w"> </span><span class="nc">Language</span><span class="o">.</span><span class="w">  </span><span class="nc">In</span><span class="w"> </span><span class="n">several</span><span class="w"> </span><span class="n">cases</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">ARCH</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">platform</span><span class="w"> </span><span class="n">differs</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">produced</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">tools</span><span class="w"> </span><span class="n">such</span><span class="w">  </span><span class="n">as</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="n">arch</span><span class="w">  </span><span class="n">command</span><span class="o">.</span><span class="w">
   </span><span class="nc">Valid</span><span class="w">  </span><span class="nc">OS</span><span class="w">  </span><span class="ow">and</span><span class="w">  </span><span class="n">architecture</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">combinations</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">listed</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="err">$</span><span class="nc">GOOS</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="err">$</span><span class="nc">GOARCH</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">https</span><span class="ss">://</span><span class="n">golang</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">doc</span><span class="o">/</span><span class="n">install</span><span class="o">/</span><span class="n">source</span><span class="c1">#environment, and can also be found by running go</span><span class="w">
   </span><span class="n">tool</span><span class="w"> </span><span class="n">dist</span><span class="w"> </span><span class="n">list</span><span class="o">.</span><span class="w">

   </span><span class="nc">While</span><span class="w"> </span><span class="n">buildah</span><span class="w"> </span><span class="n">bud</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">happy</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="n">images</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="n">images</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">platform</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">exists</span><span class="p">,</span><span class="w"> </span><span class="nc">RUN</span><span class="w"> </span><span class="n">instructions</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">able</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">succeed</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">emulation</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="n">by</span><span class="w">
   </span><span class="n">packages</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">qemu</span><span class="o">-</span><span class="n">user</span><span class="o">-</span><span class="n">static</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">pull</span><span class="w">

   </span><span class="nc">When</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="n">flag</span><span class="w">  </span><span class="n">is</span><span class="w">  </span><span class="n">enabled</span><span class="p">,</span><span class="w">  </span><span class="n">attempt</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">pull</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">latest</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">registries</span><span class="w"> </span><span class="n">listed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">registries</span><span class="o">.</span><span class="n">conf</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">exist</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">newer</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="ow">in</span><span class="w">
   </span><span class="n">storage</span><span class="o">.</span><span class="w"> </span><span class="nc">Raise</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">listed</span><span class="w"> </span><span class="n">registry</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">present</span><span class="w"> </span><span class="n">locally</span><span class="o">.</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">disabled</span><span class="w"> </span><span class="p" data-group-id="7321016289-40">(</span><span class="k">with</span><span class="w"> </span><span class="o">--</span><span class="n">pull</span><span class="o">=</span><span class="no">false</span><span class="p" data-group-id="7321016289-40">)</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="7321016289-41">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">pull</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">registry</span><span class="p">,</span><span class="w"> </span><span class="k">unless</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">image</span><span class="o">.</span><span class="w"> </span><span class="nc">Raise</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">registry</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w">
   </span><span class="n">present</span><span class="w"> </span><span class="n">locally</span><span class="o">.</span><span class="w">

   </span><span class="nc">Defaults</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="no">true</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">pull</span><span class="o">-</span><span class="n">always</span><span class="w">

   </span><span class="nc">Pull</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">registry</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">listed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">registries</span><span class="o">.</span><span class="n">conf</span><span class="o">.</span><span class="w">  </span><span class="nc">Raise</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">registries</span><span class="p">,</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">present</span><span class="w"> </span><span class="n">locally</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">pull</span><span class="o">-</span><span class="n">never</span><span class="w">

   </span><span class="nc">Do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">pull</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">registry</span><span class="p">,</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">version</span><span class="o">.</span><span class="w"> </span><span class="nc">Raise</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">present</span><span class="w"> </span><span class="n">locally</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">quiet</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">q</span><span class="w">

   </span><span class="nc">Suppress</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">messages</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">indicate</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">instruction</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">processed</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">progress</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">pulling</span><span class="w"> </span><span class="n">images</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">registry</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">writing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">image</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">rm</span><span class="w"> </span><span class="n">bool</span><span class="o">-</span><span class="n">value</span><span class="w">

   </span><span class="nc">Remove</span><span class="w"> </span><span class="n">intermediate</span><span class="w"> </span><span class="n">containers</span><span class="w"> </span><span class="k" data-group-id="7321016289-41">after</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">successful</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="p" data-group-id="7321016289-42">(</span><span class="n">default</span><span class="w"> </span><span class="no">true</span><span class="p" data-group-id="7321016289-42">)</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">runtime</span><span class="w"> </span><span class="n">path</span><span class="w">

   </span><span class="nc">The</span><span class="w">  </span><span class="n">path</span><span class="w">  </span><span class="n">to</span><span class="w">  </span><span class="n">an</span><span class="w"> </span><span class="n">alternate</span><span class="w"> </span><span class="nc">OCI</span><span class="o">-</span><span class="n">compatible</span><span class="w"> </span><span class="n">runtime</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">commands</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RUN</span><span class="w"> </span><span class="n">instruction</span><span class="o">.</span><span class="w"> </span><span class="nc">Default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">runc</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">crun</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">machine</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w">
   </span><span class="n">cgroups</span><span class="w"> </span><span class="nc">V2</span><span class="o">.</span><span class="w">

   </span><span class="ss">Note</span><span class="p">:</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">override</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">runtime</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">BUILDAH_RUNTIME</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="o">.</span><span class="w">  </span><span class="n">export</span><span class="w"> </span><span class="nc">BUILDAH_RUNTIME</span><span class="o">=</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">crun</span><span class="w">

   </span><span class="o">--</span><span class="n">runtime</span><span class="o">-</span><span class="n">flag</span><span class="w"> </span><span class="n">flag</span><span class="w">

   </span><span class="nc">Adds</span><span class="w"> </span><span class="n">global</span><span class="w"> </span><span class="n">flags</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">rutime</span><span class="o">.</span><span class="w"> </span><span class="nc">To</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">flags</span><span class="p">,</span><span class="w"> </span><span class="n">please</span><span class="w"> </span><span class="n">consult</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">manpages</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">runtime</span><span class="o">.</span><span class="w">

   </span><span class="ss">Note</span><span class="p">:</span><span class="w"> </span><span class="nc">Do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">pass</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">leading</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">flag</span><span class="o">.</span><span class="w"> </span><span class="nc">To</span><span class="w"> </span><span class="n">pass</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">runc</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="o">--</span><span class="n">log</span><span class="o">-</span><span class="n">format</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="o">--</span><span class="n">runtime</span><span class="o">-</span><span class="n">flag</span><span class="w"> </span><span class="n">log</span><span class="o">-</span><span class="n">format</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">secret</span><span class="o">=</span><span class="n">id</span><span class="o">=</span><span class="n">id</span><span class="p">,</span><span class="n">src</span><span class="o">=</span><span class="n">path</span><span class="w">

   </span><span class="nc">Pass</span><span class="w"> </span><span class="n">secret</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Containerfile</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">building</span><span class="w"> </span><span class="n">images</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">safe</span><span class="w"> </span><span class="n">way</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k" data-group-id="7321016289-41">end</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">final</span><span class="w"> </span><span class="n">image</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">seen</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">stages</span><span class="o">.</span><span class="w">   </span><span class="nc">The</span><span class="w">  </span><span class="n">secret</span><span class="w">
   </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">mounted</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">secrets</span><span class="o">/</span><span class="n">id</span><span class="o">.</span><span class="w">

   </span><span class="nc">To</span><span class="w"> </span><span class="n">later</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">secret</span><span class="p">,</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">--</span><span class="n">mount</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">RUN</span><span class="w"> </span><span class="n">instruction</span><span class="w"> </span><span class="n">within</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ss">Containerfile</span><span class="p">:</span><span class="w">

   </span><span class="nc">RUN</span><span class="w"> </span><span class="o">--</span><span class="n">mount</span><span class="o">=</span><span class="n">type</span><span class="o">=</span><span class="n">secret</span><span class="p">,</span><span class="n">id</span><span class="o">=</span><span class="n">mysecret</span><span class="w"> </span><span class="n">cat</span><span class="w"> </span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">secrets</span><span class="o">/</span><span class="n">mysecret</span><span class="w">

   </span><span class="o">--</span><span class="n">security</span><span class="o">-</span><span class="n">opt</span><span class="o">=</span><span class="p" data-group-id="7321016289-43">[</span><span class="p" data-group-id="7321016289-43">]</span><span class="w">

   </span><span class="nc">Security</span><span class="w"> </span><span class="nc">Options</span><span class="w">

   </span><span class="s">&quot;apparmor=unconfined&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Turn</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="n">apparmor</span><span class="w"> </span><span class="n">confinement</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w">
     </span><span class="s">&quot;apparmor=your-profile&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">apparmor</span><span class="w"> </span><span class="n">confinement</span><span class="w"> </span><span class="n">profile</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w">

   </span><span class="s">&quot;label=user:USER&quot;</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="nc">Set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w">
     </span><span class="s">&quot;label=role:ROLE&quot;</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="nc">Set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="n">role</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w">
     </span><span class="s">&quot;label=type:TYPE&quot;</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="nc">Set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w">
     </span><span class="s">&quot;label=level:LEVEL&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w">
     </span><span class="s">&quot;label=disable&quot;</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="nc">Turn</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="n">confinement</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w">
     </span><span class="s">&quot;no-new-privileges&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Not</span><span class="w"> </span><span class="n">supported</span><span class="w">

   </span><span class="s">&quot;seccomp=unconfined&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Turn</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="n">seccomp</span><span class="w"> </span><span class="n">confinement</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w">
     </span><span class="s">&quot;seccomp=profile.json :  White listed syscalls seccomp Json file to be used as a seccomp filter

   --shm-size=&quot;</span><span class="s">&quot;

   Size  of /dev/shm. The format is &lt;number&gt;&lt;unit&gt;. number must be greater than 0.  Unit is optional and can be b (bytes), k (kilobytes), m(megabytes), or g (gigabytes).  If you omit
   the unit, the system uses bytes. If you omit the size entirely, the system uses 64m.

   --sign-by fingerprint

   Sign the built image using the GPG key that matches the specified fingerprint.

   --squash

   Squash all of the image&#39;s new layers into a single new layer; any preexisting layers are not squashed.

   --ssh=default|id[=socket&gt;|[,]

   SSH agent socket or keys to expose to the build.  The socket path can be left empty to use the value of default=$SSH_AUTH_SOCK

   To later use the ssh agent, use the --mount flag in a RUN instruction within a Containerfile:

   RUN --mount=type=secret,id=id mycmd

   --stdin

   Pass stdin into the RUN containers. Sometime commands being RUN within a Containerfile want to request information from the user. For example apt asking for a confirmation for in‐
   stall.  Use --stdin to be able to interact from the terminal during the build.

   --tag, -t imageName

   Specifies  the  name  which will be assigned to the resulting image if the build process completes successfully.  If imageName does not include a registry name component, the reg‐
   istry name localhost will be prepended to the image name.

   --target stageName

   Set the target build stage to build.  When building a Containerfile with multiple build stages, --target can be used to specify an intermediate build stage by name  as  the  final
   stage for the resulting image.  Commands after the target stage will be skipped.

   --timestamp seconds

   Set  the  create  timestamp to seconds since epoch to allow for deterministic builds (defaults to current time).  By default, the created timestamp is changed and written into the
   image manifest with every commit, causing the image&#39;s sha256 hash to be different even if the sources are exactly the same otherwise.  When --timestamp is set, the  created  time‐
   stamp is always set to the time specified and therefore not changed, allowing the image&#39;s sha256 to remain the same. All files committed to the layers of the image will be created
   with the timestamp.

   --tls-verify bool-value

   Require HTTPS and verification of certificates when talking to container registries (defaults to true).  TLS verification cannot be used when talking to an insecure registry.

   --ulimit type=soft-limit[:hard-limit]

   Specifies resource limits to apply to processes launched when processing RUN instructions.  This option can be specified multiple times.  Recognized resource types include:
     &quot;</span><span class="n">core</span><span class="s">&quot;: maximum core dump size (ulimit -c)
     &quot;</span><span class="n">cpu</span><span class="s">&quot;: maximum CPU time (ulimit -t)
     &quot;</span><span class="n">data</span><span class="s">&quot;: maximum size of a process&#39;s data segment (ulimit -d)
     &quot;</span><span class="n">fsize</span><span class="s">&quot;: maximum size of new files (ulimit -f)
     &quot;</span><span class="n">locks</span><span class="s">&quot;: maximum number of file locks (ulimit -x)
     &quot;</span><span class="n">memlock</span><span class="s">&quot;: maximum amount of locked memory (ulimit -l)
     &quot;</span><span class="n">msgqueue</span><span class="s">&quot;: maximum amount of data in message queues (ulimit -q)
     &quot;</span><span class="n">nice</span><span class="s">&quot;: niceness adjustment (nice -n, ulimit -e)
     &quot;</span><span class="n">nofile</span><span class="s">&quot;: maximum number of open files (ulimit -n)
     &quot;</span><span class="n">nofile</span><span class="s">&quot;: maximum number of open files (1048576); when run by root
     &quot;</span><span class="n">nproc</span><span class="s">&quot;: maximum number of processes (ulimit -u)
     &quot;</span><span class="n">nproc</span><span class="s">&quot;: maximum number of processes (1048576); when run by root
     &quot;</span><span class="n">rss</span><span class="s">&quot;: maximum size of a process&#39;s (ulimit -m)
     &quot;</span><span class="n">rtprio</span><span class="s">&quot;: maximum real-time scheduling priority (ulimit -r)
     &quot;</span><span class="n">rttime</span><span class="s">&quot;: maximum amount of real-time execution between blocking syscalls
     &quot;</span><span class="n">sigpending</span><span class="s">&quot;: maximum number of pending signals (ulimit -i)
     &quot;</span><span class="n">stack</span><span class="s">&quot;: maximum stack size (ulimit -s)

   --userns how

   Sets the configuration for user namespaces when handling RUN instructions.  The configured value can be &quot;</span><span class="s">&quot; (the empty string) or &quot;</span><span class="n">private</span><span class="s">&quot; to indicate that a  new  user  namespace
   should  be created, it can be &quot;</span><span class="n">host</span><span class="s">&quot; to indicate that the user namespace in which buildah itself is being run should be reused, or it can be the path to an user namespace which is
   already in use by another process.

   --userns-uid-map-user user

   Specifies that a UID mapping which should be used to set ownership, at the filesystem level, on the working container&#39;s contents, can be found in entries in the  /etc/subuid  file
   which correspond to the specified user.  Commands run when handling RUN instructions will default to being run in their own user namespaces, configured using the UID and GID maps.
   If --userns-gid-map-group is specified, but --userns-uid-map-user is not specified, buildah will assume that the specified group name is also a suitable user name to  use  as  the
   default setting for this option.

   Users can specify the maps directly using --userns-uid-map described in the buildah(1) man page.

   NOTE:  When this option is specified by a rootless user, the specified mappings are relative to the rootless usernamespace in the container, rather than being relative to the host
   as it would be when run rootful.

   --userns-gid-map-group group

   Specifies that a GID mapping which should be used to set ownership, at the filesystem level, on the working container&#39;s contents, can be found in entries in the  /etc/subgid  file
   which  correspond  to  the  specified  group.  Commands run when handling RUN instructions will default to being run in their own user namespaces, configured using the UID and GID
   maps.  If --userns-uid-map-user is specified, but --userns-gid-map-group is not specified, buildah will assume that the specified user name is also a suitable group name to use as
   the default setting for this option.

   Users can specify the maps directly using --userns-gid-map described in the buildah(1) man page.

   NOTE:  When this option is specified by a rootless user, the specified mappings are relative to the rootless usernamespace in the container, rather than being relative to the host
   as it would be when run rootful.

   --uts how

   Sets the configuration for UTS namespaces when the handling RUN instructions.  The configured value can be &quot;</span><span class="s">&quot; (the empty string) or &quot;</span><span class="n">container</span><span class="s">&quot; to indicate that a  new  UTS  name‐
   space  should  be  created,  or it can be &quot;</span><span class="n">host</span><span class="s">&quot; to indicate that the UTS namespace in which buildah itself is being run should be reused, or it can be the path to a UTS namespace
   which is already in use by another process.

   --variant=&quot;</span><span class="err">&quot;</span><span class="w">

   </span><span class="nc">Set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">architecture</span><span class="w"> </span><span class="n">variant</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">pulled</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">volume</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">v</span><span class="p" data-group-id="7321016289-44">[</span><span class="o">=</span><span class="p" data-group-id="7321016289-45">[</span><span class="nc">HOST</span><span class="o">-</span><span class="nc">DIR</span><span class="ss">:CONTAINER</span><span class="o">-</span><span class="nc">DIR</span><span class="p" data-group-id="7321016289-46">[</span><span class="ss">:OPTIONS</span><span class="p" data-group-id="7321016289-46">]</span><span class="p" data-group-id="7321016289-45">]</span><span class="p" data-group-id="7321016289-44">]</span><span class="w">

   </span><span class="nc">Create</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">bind</span><span class="w"> </span><span class="n">mount</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">specify</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="o">/</span><span class="nc">HOST</span><span class="o">-</span><span class="nc">DIR</span><span class="ss">:/</span><span class="nc">CONTAINER</span><span class="o">-</span><span class="nc">DIR</span><span class="p">,</span><span class="w"> </span><span class="nc">Buildah</span><span class="w">
      </span><span class="n">bind</span><span class="w"> </span><span class="n">mounts</span><span class="w"> </span><span class="o">/</span><span class="nc">HOST</span><span class="o">-</span><span class="nc">DIR</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">/</span><span class="nc">CONTAINER</span><span class="o">-</span><span class="nc">DIR</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Buildah</span><span class="w">
      </span><span class="n">container</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="nc">OPTIONS</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">comma</span><span class="w"> </span><span class="n">delimited</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="ss">be</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7321016289-47">[</span><span class="mi">1</span><span class="p" data-group-id="7321016289-47">]</span><span class="w"> </span><span class="err">⟨</span><span class="c1">#Footnote1⟩</span><span class="w">

          </span><span class="err">•</span><span class="w"> </span><span class="p" data-group-id="7321016289-48">[</span><span class="n">rw</span><span class="o">|</span><span class="n">ro</span><span class="p" data-group-id="7321016289-48">]</span><span class="w">

          </span><span class="err">•</span><span class="w"> </span><span class="p" data-group-id="7321016289-49">[</span><span class="nc">U</span><span class="p" data-group-id="7321016289-49">]</span><span class="w">

          </span><span class="err">•</span><span class="w"> </span><span class="p" data-group-id="7321016289-50">[</span><span class="n">z</span><span class="o">|</span><span class="nc">Z</span><span class="o">|</span><span class="nc">O</span><span class="p" data-group-id="7321016289-50">]</span><span class="w">

          </span><span class="err">•</span><span class="w"> </span><span class="p" data-group-id="7321016289-51">[</span><span class="p" data-group-id="7321016289-52">[</span><span class="n">r</span><span class="p" data-group-id="7321016289-52">]</span><span class="n">shared</span><span class="o">|</span><span class="p" data-group-id="7321016289-53">[</span><span class="n">r</span><span class="p" data-group-id="7321016289-53">]</span><span class="n">slave</span><span class="o">|</span><span class="p" data-group-id="7321016289-54">[</span><span class="n">r</span><span class="p" data-group-id="7321016289-54">]</span><span class="n">private</span><span class="p" data-group-id="7321016289-51">]</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="nc">CONTAINER</span><span class="o">-</span><span class="nc">DIR</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">absolute</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">docs</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="nc">HOST</span><span class="o">-</span><span class="nc">DIR</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">absolute</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">well</span><span class="o">.</span><span class="w"> </span><span class="nc">Buildah</span><span class="w"> </span><span class="n">bind</span><span class="o">-</span><span class="n">mounts</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">HOST</span><span class="o">-</span><span class="nc">DIR</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">specify</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w">
   </span><span class="k">if</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">supply</span><span class="w"> </span><span class="o">/</span><span class="n">foo</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="nc">Buildah</span><span class="w"> </span><span class="n">copies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">contents</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="o">/</span><span class="n">foo</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">filesystem</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">bind</span><span class="w"> </span><span class="n">mounts</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="o">.</span><span class="w">

   </span><span class="nc">You</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">multiple</span><span class="w">  </span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">mounts</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">container</span><span class="o">.</span><span class="w">

   </span><span class="nc">Write</span><span class="w"> </span><span class="nc">Protected</span><span class="w"> </span><span class="nc">Volume</span><span class="w"> </span><span class="nc">Mounts</span><span class="w">

   </span><span class="nc">You</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="ss">:ro</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ss">:rw</span><span class="w"> </span><span class="n">suffix</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">read</span><span class="o">-</span><span class="n">only</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">read</span><span class="o">-</span><span class="n">write</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">respectively</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">volumes</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">mounted</span><span class="w"> </span><span class="n">read</span><span class="o">-</span><span class="n">write</span><span class="o">.</span><span class="w">  </span><span class="nc">See</span><span class="w"> </span><span class="n">examples</span><span class="o">.</span><span class="w">

   </span><span class="nc">Chowning</span><span class="w"> </span><span class="nc">Volume</span><span class="w"> </span><span class="nc">Mounts</span><span class="w">

   </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="nc">Buildah</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">owner</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">group</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="n">directories</span><span class="w"> </span><span class="n">mounted</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">containers</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">namespace</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">UID</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">GID</span><span class="w"> </span><span class="ow">in</span><span class="w">
   </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">correspond</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="nc">UID</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">GID</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="ss">:U</span><span class="w"> </span><span class="n">suffix</span><span class="w"> </span><span class="n">tells</span><span class="w"> </span><span class="nc">Buildah</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="nc">UID</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">GID</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">UID</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">GID</span><span class="w"> </span><span class="n">within</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">owner</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">group</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">volume</span><span class="o">.</span><span class="w">

   </span><span class="nc">Labeling</span><span class="w"> </span><span class="nc">Volume</span><span class="w"> </span><span class="nc">Mounts</span><span class="w">

   </span><span class="nc">Labeling</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="nc">SELinux</span><span class="w"> </span><span class="kn">require</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">proper</span><span class="w"> </span><span class="n">labels</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">placed</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">mounted</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">container</span><span class="o">.</span><span class="w"> </span><span class="nc">Without</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">label</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">security</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">might</span><span class="w">  </span><span class="n">prevent</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="n">processes</span><span class="w">
   </span><span class="n">running</span><span class="w"> </span><span class="n">inside</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="nc">Buildah</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">labels</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">OS</span><span class="o">.</span><span class="w">

   </span><span class="nc">To</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">suffixes</span><span class="w"> </span><span class="ss">:z</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ss">:Z</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="n">mount</span><span class="o">.</span><span class="w"> </span><span class="nc">These</span><span class="w"> </span><span class="n">suffixes</span><span class="w"> </span><span class="n">tell</span><span class="w"> </span><span class="nc">Buildah</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">relabel</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">objects</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="n">vol</span><span class="err">‐</span><span class="w">
   </span><span class="n">umes</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">tells</span><span class="w"> </span><span class="nc">Buildah</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">containers</span><span class="w"> </span><span class="n">share</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="n">content</span><span class="o">.</span><span class="w"> </span><span class="nc">As</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="nc">Buildah</span><span class="w"> </span><span class="n">labels</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">label</span><span class="o">.</span><span class="w"> </span><span class="nc">Shared</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="n">labels</span><span class="w"> </span><span class="n">allow</span><span class="w">  </span><span class="n">all</span><span class="w">
   </span><span class="n">containers</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">read</span><span class="o">/</span><span class="n">write</span><span class="w"> </span><span class="n">content</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="nc">Z</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">tells</span><span class="w"> </span><span class="nc">Buildah</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">private</span><span class="w"> </span><span class="n">unshared</span><span class="w"> </span><span class="n">label</span><span class="o">.</span><span class="w">  </span><span class="nc">Only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">private</span><span class="w"> </span><span class="n">volume</span><span class="o">.</span><span class="w">

   </span><span class="nc">Overlay</span><span class="w"> </span><span class="nc">Volume</span><span class="w"> </span><span class="nc">Mounts</span><span class="w">

   </span><span class="nc">The</span><span class="w">  </span><span class="ss">:O</span><span class="w">  </span><span class="n">flag</span><span class="w">  </span><span class="n">tells</span><span class="w">  </span><span class="nc">Buildah</span><span class="w">  </span><span class="n">to</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">temporary</span><span class="w"> </span><span class="n">storage</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Overlay</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">system</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="nc">RUN</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">containers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">modify</span><span class="w"> </span><span class="n">contents</span><span class="w">
   </span><span class="n">within</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mountpoint</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">storage</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">separate</span><span class="w"> </span><span class="n">directory</span><span class="o">.</span><span class="w">  </span><span class="nc">In</span><span class="w"> </span><span class="nc">Overlay</span><span class="w"> </span><span class="nc">FS</span><span class="w"> </span><span class="n">terms</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">lower</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w">  </span><span class="n">storage</span><span class="w">  </span><span class="n">di</span><span class="err">‐</span><span class="w">
   </span><span class="n">rectory</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">upper</span><span class="o">.</span><span class="w"> </span><span class="nc">Modifications</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">destroyed</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RUN</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">finishes</span><span class="w"> </span><span class="n">executing</span><span class="p">,</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">tmpfs</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="o">.</span><span class="w">

   </span><span class="nc">Any</span><span class="w"> </span><span class="n">subsequent</span><span class="w"> </span><span class="n">execution</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">RUN</span><span class="w"> </span><span class="n">commands</span><span class="w"> </span><span class="n">sees</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">original</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">content</span><span class="p">,</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="nc">RUN</span><span class="w"> </span><span class="n">commands</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">exists</span><span class="o">.</span><span class="w">

   </span><span class="nc">One</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">overlay</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">sharing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">speeding</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">builds</span><span class="o">.</span><span class="w">

   </span><span class="ss">Note</span><span class="p">:</span><span class="w">

           </span><span class="o">-</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="err">`</span><span class="nc">O</span><span class="err">`</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="err">`</span><span class="nc">Z</span><span class="err">`</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="err">`</span><span class="n">z</span><span class="err">`</span><span class="w"> </span><span class="n">flags</span><span class="o">.</span><span class="w"> </span><span class="nc">Content</span><span class="w"> </span><span class="n">mounted</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">labeled</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">private</span><span class="w"> </span><span class="n">label</span><span class="o">.</span><span class="w">
             </span><span class="nc">On</span><span class="w"> </span><span class="nc">SELinux</span><span class="w"> </span><span class="n">systems</span><span class="p">,</span><span class="w"> </span><span class="n">labels</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">readable</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">label</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="ow">not</span><span class="p">,</span><span class="w"> </span><span class="nc">SELinux</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">separation</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">disabled</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">work</span><span class="o">.</span><span class="w">
           </span><span class="o">-</span><span class="w"> </span><span class="nc">Modification</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="n">mounted</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">overlay</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">cause</span><span class="w"> </span><span class="n">unexpected</span><span class="w"> </span><span class="n">failures</span><span class="o">.</span><span class="w">  </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">recommended</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k" data-group-id="7321016289-55">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">modify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">finishes</span><span class="w"> </span><span class="n">running</span><span class="o">.</span><span class="w">

   </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">bind</span><span class="w"> </span><span class="n">mounted</span><span class="w"> </span><span class="n">volumes</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">private</span><span class="o">.</span><span class="w"> </span><span class="nc">That</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">mounts</span><span class="w"> </span><span class="n">done</span><span class="w"> </span><span class="n">inside</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">visible</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">vice</span><span class="w"> </span><span class="n">versa</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">behavior</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">changed</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">specifying</span><span class="w">
   </span><span class="n">a</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">propagation</span><span class="w"> </span><span class="n">property</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">propagation</span><span class="w"> </span><span class="n">policy</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">shared</span><span class="p">,</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">mounts</span><span class="w"> </span><span class="n">completed</span><span class="w"> </span><span class="n">inside</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">visible</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">container</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w">  </span><span class="n">propa</span><span class="err">‐</span><span class="w">
   </span><span class="n">gation</span><span class="w">  </span><span class="n">policy</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">slave</span><span class="p">,</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">way</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">propagation</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">mounts</span><span class="w"> </span><span class="n">completed</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">visible</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">inside</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="o">.</span><span class="w">  </span><span class="nc">To</span><span class="w"> </span><span class="n">control</span><span class="w">
   </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">propagation</span><span class="w"> </span><span class="n">property</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="p">:</span><span class="p" data-group-id="7321016289-56">[</span><span class="n">r</span><span class="p" data-group-id="7321016289-56">]</span><span class="n">shared</span><span class="p">,</span><span class="w"> </span><span class="p">:</span><span class="p" data-group-id="7321016289-57">[</span><span class="n">r</span><span class="p" data-group-id="7321016289-57">]</span><span class="n">slave</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="p">:</span><span class="p" data-group-id="7321016289-58">[</span><span class="n">r</span><span class="p" data-group-id="7321016289-58">]</span><span class="n">private</span><span class="w"> </span><span class="n">propagation</span><span class="w"> </span><span class="n">flag</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">propagation</span><span class="w"> </span><span class="n">property</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">bind</span><span class="w"> </span><span class="n">mounted</span><span class="w"> </span><span class="n">volumes</span><span class="w">
   </span><span class="ow">and</span><span class="w">  </span><span class="ow">not</span><span class="w">  </span><span class="k">for</span><span class="w">  </span><span class="n">internal</span><span class="w"> </span><span class="n">volumes</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">named</span><span class="w"> </span><span class="n">volumes</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">propagation</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="p" data-group-id="7321016289-59">(</span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">dir</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">mounted</span><span class="w"> </span><span class="n">on</span><span class="p" data-group-id="7321016289-59">)</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">right</span><span class="w">
   </span><span class="n">propagation</span><span class="w"> </span><span class="n">properties</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="n">volumes</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">shared</span><span class="o">.</span><span class="w"> </span><span class="nc">And</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">slave</span><span class="w"> </span><span class="n">volumes</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">slave</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="7321016289-60">[</span><span class="mi">1</span><span class="p" data-group-id="7321016289-60">]</span><span class="w"> </span><span class="err">⟨</span><span class="c1">#Footnote1⟩</span><span class="w">

   </span><span class="nc">Use</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">&lt;</span><span class="n">source</span><span class="o">-</span><span class="n">dir</span><span class="o">&gt;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">determine</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">findmnt</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="nc">TARGET</span><span class="p">,</span><span class="nc">PROPAGATION</span><span class="w"> </span><span class="o">&lt;</span><span class="n">source</span><span class="o">-</span><span class="n">mount</span><span class="o">-</span><span class="n">dir</span><span class="o">&gt;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">determine</span><span class="w"> </span><span class="n">propagation</span><span class="w"> </span><span class="n">properties</span><span class="w"> </span><span class="n">of</span><span class="w">  </span><span class="n">source</span><span class="w">  </span><span class="n">mount</span><span class="p">,</span><span class="w">  </span><span class="k">if</span><span class="w">  </span><span class="n">findmnt</span><span class="w">
   </span><span class="n">utility</span><span class="w">  </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">available</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">determined</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">looking</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="n">proc</span><span class="o">/</span><span class="n">self</span><span class="o">/</span><span class="n">mountinfo</span><span class="o">.</span><span class="w"> </span><span class="nc">Look</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">optional</span><span class="w"> </span><span class="n">fields</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">propagation</span><span class="w"> </span><span class="n">prop</span><span class="err">‐</span><span class="w">
   </span><span class="n">erties</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">specified</span><span class="o">.</span><span class="w">  </span><span class="n">shared</span><span class="ss">:X</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shared</span><span class="p">,</span><span class="w"> </span><span class="n">master</span><span class="ss">:X</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">slave</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">nothing</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">private</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="7321016289-61">[</span><span class="mi">1</span><span class="p" data-group-id="7321016289-61">]</span><span class="w"> </span><span class="err">⟨</span><span class="c1">#Footnote1⟩</span><span class="w">

   </span><span class="nc">To</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">propagation</span><span class="w"> </span><span class="n">properties</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">command</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">bind</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="o">/</span><span class="n">foo</span><span class="w"> </span><span class="k" data-group-id="7321016289-62">do</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="o">--</span><span class="n">bind</span><span class="w"> </span><span class="o">/</span><span class="n">foo</span><span class="w"> </span><span class="o">/</span><span class="n">foo</span><span class="w">  </span><span class="ow">and</span><span class="w">  </span><span class="n">mount</span><span class="w">  </span><span class="o">--</span><span class="n">make</span><span class="o">-</span><span class="n">private</span><span class="w">
   </span><span class="o">--</span><span class="n">make</span><span class="o">-</span><span class="n">shared</span><span class="w">  </span><span class="o">/</span><span class="n">foo</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w">  </span><span class="n">will</span><span class="w">  </span><span class="n">convert</span><span class="w">  </span><span class="o">/</span><span class="n">foo</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">propagation</span><span class="w"> </span><span class="n">properties</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">changed</span><span class="w"> </span><span class="n">directly</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w">
   </span><span class="n">mount</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">/</span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="o">--</span><span class="n">make</span><span class="o">-</span><span class="n">shared</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">convert</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="n">mount</span><span class="o">.</span></code></pre><p>BUILD TIME VARIABLES</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">The</span><span class="w"> </span><span class="nc">ENV</span><span class="w"> </span><span class="n">instruction</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">Containerfile</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">define</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">values</span><span class="o">.</span><span class="w">  </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">built</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">persist</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">image</span><span class="o">.</span><span class="w">  </span><span class="nc">At</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">conve</span><span class="err">‐</span><span class="w">
   </span><span class="n">nient</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Containerfile</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">command</span><span class="o">-</span><span class="n">line</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">rather</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">changing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">within</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Containerfile</span><span class="w"> </span><span class="n">itself</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">conjunction</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">--</span><span class="n">build</span><span class="o">-</span><span class="n">arg</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">override</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">corresponding</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Containerfile</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">ENV</span><span class="w"> </span><span class="n">instruction</span><span class="o">.</span><span class="w">

          </span><span class="err">•</span><span class="w"> </span><span class="nc">HTTP_PROXY</span><span class="w">

          </span><span class="err">•</span><span class="w"> </span><span class="nc">HTTPS_PROXY</span><span class="w">

          </span><span class="err">•</span><span class="w"> </span><span class="nc">FTP_PROXY</span><span class="w">

          </span><span class="err">•</span><span class="w"> </span><span class="nc">NO_PROXY</span><span class="w">

   </span><span class="nc">Please</span><span class="w"> </span><span class="n">refer</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Using</span><span class="w"> </span><span class="nc">Build</span><span class="w"> </span><span class="nc">Time</span><span class="w"> </span><span class="nc">Variables</span><span class="w"> </span><span class="err">⟨</span><span class="c1">#using-build-time-variables⟩ section of the Examples.</span></code></pre><p>EXAMPLE
   Build an image using local Containerfiles</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="nc">Containerfile</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">cat</span><span class="w"> </span><span class="err">~</span><span class="o">/</span><span class="nc">Dockerfile</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="nc">Dockerfile</span><span class="o">.</span><span class="n">simple</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="nc">Dockerfile</span><span class="o">.</span><span class="n">notsosimple</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">--</span><span class="n">timestamp</span><span class="o">=</span><span class="err">$</span><span class="p" data-group-id="0448839427-1">(</span><span class="n">date</span><span class="w"> </span><span class="sc">&#39;+%s&#39;</span><span class="p" data-group-id="0448839427-1">)</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="n">imageName</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="n">imageName</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">verify</span><span class="o">=</span><span class="no">true</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="n">imageName</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="nc">Dockerfile</span><span class="o">.</span><span class="n">simple</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">verify</span><span class="o">=</span><span class="no">false</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="n">imageName</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">--</span><span class="n">runtime</span><span class="o">-</span><span class="n">flag</span><span class="w"> </span><span class="n">log</span><span class="o">-</span><span class="n">format</span><span class="o">=</span><span class="n">json</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="nc">Containerfile</span><span class="w"> </span><span class="o">--</span><span class="n">runtime</span><span class="o">-</span><span class="n">flag</span><span class="w"> </span><span class="n">debug</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">--</span><span class="n">authfile</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">auths</span><span class="o">/</span><span class="n">myauths</span><span class="o">.</span><span class="n">json</span><span class="w"> </span><span class="o">--</span><span class="n">cert</span><span class="o">-</span><span class="n">dir</span><span class="w"> </span><span class="err">~</span><span class="o">/</span><span class="n">auth</span><span class="w"> </span><span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">verify</span><span class="o">=</span><span class="no">true</span><span class="w"> </span><span class="o">--</span><span class="n">creds</span><span class="o">=</span><span class="n">username</span><span class="ss">:password</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="n">imageName</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="nc">Dockerfile</span><span class="o">.</span><span class="n">simple</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">--</span><span class="n">memory</span><span class="w"> </span><span class="mi">40</span><span class="n">m</span><span class="w"> </span><span class="o">--</span><span class="n">cpu</span><span class="o">-</span><span class="n">period</span><span class="w"> </span><span class="mi">10000</span><span class="w"> </span><span class="o">--</span><span class="n">cpu</span><span class="o">-</span><span class="n">quota</span><span class="w"> </span><span class="mi">50000</span><span class="w"> </span><span class="o">--</span><span class="n">ulimit</span><span class="w"> </span><span class="n">nofile</span><span class="o">=</span><span class="mi">1024</span><span class="p">:</span><span class="mi">1028</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="n">imageName</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">--</span><span class="n">security</span><span class="o">-</span><span class="n">opt</span><span class="w"> </span><span class="n">label</span><span class="o">=</span><span class="n">level</span><span class="ss">:s0</span><span class="ss">:c100</span><span class="p">,</span><span class="n">c200</span><span class="w"> </span><span class="o">--</span><span class="n">cgroup</span><span class="o">-</span><span class="n">parent</span><span class="w"> </span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">cgroup</span><span class="o">/</span><span class="n">parent</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="n">imageName</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">--</span><span class="n">arch</span><span class="o">=</span><span class="n">arm</span><span class="w"> </span><span class="o">--</span><span class="n">variant</span><span class="w"> </span><span class="n">v7</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="n">imageName</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">--</span><span class="n">volume</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">test</span><span class="ss">:/</span><span class="n">myvol</span><span class="ss">:ro</span><span class="p">,</span><span class="nc">Z</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="n">imageName</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">test</span><span class="ss">:/</span><span class="n">myvol</span><span class="ss">:z</span><span class="p">,</span><span class="nc">U</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="n">imageName</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">dnf</span><span class="ss">:/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">dnf</span><span class="ss">:O</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="n">imageName</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">--</span><span class="n">layers</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="n">imageName</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">cache</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="n">imageName</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="nc">Containerfile</span><span class="w"> </span><span class="o">--</span><span class="n">layers</span><span class="w"> </span><span class="o">--</span><span class="n">force</span><span class="o">-</span><span class="n">rm</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="n">imageName</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">cache</span><span class="w"> </span><span class="o">--</span><span class="n">rm</span><span class="o">=</span><span class="no">false</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="n">imageName</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">--</span><span class="n">dns</span><span class="o">-</span><span class="n">search</span><span class="o">=</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="w"> </span><span class="o">--</span><span class="n">dns</span><span class="o">=</span><span class="mf">223.5</span><span class="o">.</span><span class="mf">5.5</span><span class="w"> </span><span class="o">--</span><span class="n">dns</span><span class="o">-</span><span class="n">option</span><span class="o">=</span><span class="kn">use</span><span class="o">-</span><span class="n">vc</span><span class="w"> </span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="nc">Containerfile</span><span class="o">.</span><span class="ow">in</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="n">imageName</span><span class="w"> </span><span class="o">.</span></code></pre><p>   Building an multi-architecture image using the --manifest option (requires emulation software)</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">--</span><span class="n">arch</span><span class="w"> </span><span class="n">arm</span><span class="w"> </span><span class="o">--</span><span class="n">manifest</span><span class="w"> </span><span class="n">myimage</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">mysrc</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">--</span><span class="n">arch</span><span class="w"> </span><span class="n">amd64</span><span class="w"> </span><span class="o">--</span><span class="n">manifest</span><span class="w"> </span><span class="n">myimage</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">mysrc</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">--</span><span class="n">arch</span><span class="w"> </span><span class="n">s390x</span><span class="w"> </span><span class="o">--</span><span class="n">manifest</span><span class="w"> </span><span class="n">myimage</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">mysrc</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">bud</span><span class="w"> </span><span class="o">--</span><span class="n">platform</span><span class="w"> </span><span class="n">linux</span><span class="o">/</span><span class="n">s390x</span><span class="p">,</span><span class="n">linux</span><span class="o">/</span><span class="n">ppc64le</span><span class="p">,</span><span class="n">linux</span><span class="o">/</span><span class="n">amd64</span><span class="w"> </span><span class="o">--</span><span class="n">manifest</span><span class="w"> </span><span class="n">myimage</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">mysrc</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">bud</span><span class="w"> </span><span class="o">--</span><span class="n">platform</span><span class="w"> </span><span class="n">linux</span><span class="o">/</span><span class="n">arm64</span><span class="w"> </span><span class="o">--</span><span class="n">platform</span><span class="w"> </span><span class="n">linux</span><span class="o">/</span><span class="n">amd64</span><span class="w"> </span><span class="o">--</span><span class="n">manifest</span><span class="w"> </span><span class="n">myimage</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">mysrc</span></code></pre><p>   Building an image using a URL</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">This</span><span class="w">  </span><span class="n">will</span><span class="w">  </span><span class="n">clone</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="n">specified</span><span class="w"> </span><span class="nc">GitHub</span><span class="w"> </span><span class="n">repository</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">URL</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">context</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="nc">Containerfile</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">Dockerfile</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">repository</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w">
   </span><span class="n">build</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">works</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">GitHub</span><span class="w"> </span><span class="n">repository</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">dedicated</span><span class="w"> </span><span class="n">repository</span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">scollier</span><span class="o">/</span><span class="n">purpletest</span><span class="w">

   </span><span class="ss">Note</span><span class="p">:</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">arbitrary</span><span class="w"> </span><span class="nc">Git</span><span class="w"> </span><span class="n">repository</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">git</span><span class="ss">://</span><span class="w"> </span><span class="n">scheme</span><span class="o">.</span></code></pre><p>   Building an image using a URL to a tarball'ed context</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">Buildah</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">fetch</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tarball</span><span class="w"> </span><span class="n">archive</span><span class="p">,</span><span class="w"> </span><span class="n">decompress</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">contents</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="n">context</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="nc">Containerfile</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">Dockerfile</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">archive</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w">  </span><span class="n">rest</span><span class="w">  </span><span class="n">of</span><span class="w">  </span><span class="n">the</span><span class="w">
   </span><span class="n">archive</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">build</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">pass</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="nc">PATH</span><span class="o">/</span><span class="nc">Containerfile</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">well</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">look</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">inside</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">contents</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tarball</span><span class="o">.</span><span class="w">

   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="n">dev</span><span class="o">/</span><span class="nc">Containerfile</span><span class="w"> </span><span class="n">https</span><span class="ss">://</span><span class="mf">10.10</span><span class="o">.</span><span class="mf">10.1</span><span class="o">/</span><span class="n">docker</span><span class="o">/</span><span class="n">context</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span><span class="w">

   </span><span class="ss">Note</span><span class="p">:</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">compression</span><span class="w"> </span><span class="n">formats</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="sc">&#39;xz&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;bzip2&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;gzip&#39;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="sc">&#39;identity&#39;</span><span class="w"> </span><span class="p" data-group-id="2021365093-1">(</span><span class="n">no</span><span class="w"> </span><span class="n">compression</span><span class="p" data-group-id="2021365093-1">)</span><span class="o">.</span></code></pre><p>   Using Build Time Variables
   Replace the value set for the HTTP_PROXY environment variable within the Containerfile.</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">--</span><span class="n">build</span><span class="o">-</span><span class="n">arg</span><span class="o">=</span><span class="nc">HTTP_PROXY</span><span class="o">=</span><span class="s">&quot;http://127.0.0.1:8321&quot;</span></code></pre><p>ENVIRONMENT</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">BUILD_REGISTRY_SOURCES</span><span class="w">

   </span><span class="nc">BUILD_REGISTRY_SOURCES</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">set</span><span class="p">,</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">treated</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">JSON</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="n">lists</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">registry</span><span class="w"> </span><span class="n">names</span><span class="w"> </span><span class="n">under</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="n">insecureRegistries</span><span class="p">,</span><span class="w"> </span><span class="n">blockedRegistries</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">allowedRegistries</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w">  </span><span class="n">pulling</span><span class="w">  </span><span class="n">an</span><span class="w">  </span><span class="n">image</span><span class="w">  </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">registry</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">registry</span><span class="w"> </span><span class="n">matches</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">blockedRegistries</span><span class="w"> </span><span class="n">list</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">pull</span><span class="w"> </span><span class="n">attempt</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">denied</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">reg</span><span class="err">‐</span><span class="w">
   </span><span class="n">istries</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allowedRegistries</span><span class="w"> </span><span class="n">list</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">registry</span><span class="sc">&#39;s name is not in the list, the pull attempt is denied.

   TMPDIR The TMPDIR environment variable allows the user to specify where temporary files are stored while pulling and pushing images.  Defaults to &#39;</span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">tmp</span><span class="err">&#39;</span><span class="o">.</span></code></pre><p>Files
   .containerignore/.dockerignore</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">.</span><span class="n">containerignore</span><span class="o">/</span><span class="o">.</span><span class="n">dockerignore</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">exists</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="n">directory</span><span class="p">,</span><span class="w"> </span><span class="n">buildah</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="n">reads</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">contents</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">exist</span><span class="p">,</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="o">.</span><span class="n">containerignore</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="o">.</span><span class="w">  </span><span class="nc">Use</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="o">--</span><span class="n">ignorefile</span><span class="w">
   </span><span class="n">flag</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">override</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ignore</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">location</span><span class="o">.</span><span class="w"> </span><span class="nc">Buildah</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">exclude</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">directories</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="n">directory</span><span class="p">,</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">executing</span><span class="w"> </span><span class="nc">COPY</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">ADD</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w">
   </span><span class="nc">Containerfile</span><span class="o">/</span><span class="nc">Dockerfile</span><span class="w">

   </span><span class="nc">Users</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">series</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">Unix</span><span class="w"> </span><span class="n">shell</span><span class="w"> </span><span class="n">globals</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w">

   </span><span class="nc">Buildah</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">special</span><span class="w"> </span><span class="n">wildcard</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">*</span><span class="o">*</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">matches</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">directories</span><span class="w"> </span><span class="p" data-group-id="0652071456-1">(</span><span class="n">including</span><span class="w"> </span><span class="n">zero</span><span class="p" data-group-id="0652071456-1">)</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="o">/</span><span class="o">.</span><span class="n">go</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">exclude</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="o">.</span><span class="n">go</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">are</span><span class="w">  </span><span class="n">found</span><span class="w">
   </span><span class="ow">in</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">directories</span><span class="o">.</span><span class="w">

   </span><span class="nc">Example</span><span class="w"> </span><span class="o">.</span><span class="n">containerignore</span><span class="w"> </span><span class="ss">file</span><span class="p">:</span><span class="w">

          </span><span class="c1"># exclude this content for image</span><span class="w">
          </span><span class="o">*</span><span class="o">/</span><span class="o">*</span><span class="o">.</span><span class="n">c</span><span class="w">
          </span><span class="o">*</span><span class="o">*</span><span class="o">/</span><span class="n">output</span><span class="o">*</span><span class="w">
          </span><span class="n">src</span><span class="w">

   </span><span class="o">*</span><span class="o">/</span><span class="o">*</span><span class="o">.</span><span class="n">c</span><span class="w"> </span><span class="nc">Excludes</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">directories</span><span class="w"> </span><span class="n">whose</span><span class="w"> </span><span class="n">names</span><span class="w"> </span><span class="n">ends</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="o">.</span><span class="n">c</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">top</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="n">subdirectory</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">include</span><span class="o">/</span><span class="n">rootless</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="w">

   </span><span class="o">*</span><span class="o">*</span><span class="o">/</span><span class="n">output</span><span class="o">*</span><span class="w"> </span><span class="nc">Excludes</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">directories</span><span class="w"> </span><span class="n">starting</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">directory</span><span class="o">.</span><span class="w">

   </span><span class="n">src</span><span class="w"> </span><span class="nc">Excludes</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">named</span><span class="w"> </span><span class="n">src</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">src</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">well</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w">

   </span><span class="nc">Lines</span><span class="w"> </span><span class="n">starting</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="0652071456-2">(</span><span class="n">exclamation</span><span class="w"> </span><span class="n">mark</span><span class="p" data-group-id="0652071456-2">)</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">exceptions</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">exclusions</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="o">.</span><span class="n">containerignore</span><span class="o">/</span><span class="o">.</span><span class="n">dockerignore</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="ss">mechanism</span><span class="p">:</span><span class="w">

          </span><span class="o">*</span><span class="o">.</span><span class="n">doc</span><span class="w">
          </span><span class="o">!</span><span class="nc">Help</span><span class="o">.</span><span class="n">doc</span><span class="w">

   </span><span class="nc">Exclude</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="nc">Help</span><span class="o">.</span><span class="n">doc</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="o">.</span><span class="w">

   </span><span class="nc">This</span><span class="w"> </span><span class="n">functionality</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">compatible</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">handling</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="o">.</span><span class="n">dockerignore</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">described</span><span class="w"> </span><span class="ss">here</span><span class="p">:</span><span class="w">

   </span><span class="n">https</span><span class="ss">://</span><span class="n">docs</span><span class="o">.</span><span class="n">docker</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">engine</span><span class="o">/</span><span class="n">reference</span><span class="o">/</span><span class="n">builder</span><span class="o">/</span><span class="c1">#dockerignore-file</span><span class="w">

   </span><span class="n">registries</span><span class="o">.</span><span class="n">conf</span><span class="w"> </span><span class="p" data-group-id="0652071456-3">(</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">containers</span><span class="o">/</span><span class="n">registries</span><span class="o">.</span><span class="n">conf</span><span class="p" data-group-id="0652071456-3">)</span><span class="w">

   </span><span class="n">registries</span><span class="o">.</span><span class="n">conf</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">registries</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">consulted</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">completing</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">names</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="k" data-group-id="0652071456-4">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">registry</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">por</span><span class="err">‐</span><span class="w">
   </span><span class="n">tion</span><span class="o">.</span><span class="w">

   </span><span class="n">policy</span><span class="o">.</span><span class="n">json</span><span class="w"> </span><span class="p" data-group-id="0652071456-5">(</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">containers</span><span class="o">/</span><span class="n">policy</span><span class="o">.</span><span class="n">json</span><span class="p" data-group-id="0652071456-5">)</span><span class="w">

   </span><span class="nc">Signature</span><span class="w"> </span><span class="n">policy</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">defines</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">trust</span><span class="w"> </span><span class="n">policy</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">images</span><span class="o">.</span><span class="w">  </span><span class="nc">Controls</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">registries</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">image</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">whether</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">the</span><span class="w">  </span><span class="n">tool</span><span class="w">  </span><span class="n">should</span><span class="w">  </span><span class="n">trust</span><span class="w">
   </span><span class="n">the</span><span class="w"> </span><span class="n">images</span><span class="o">.</span></code></pre><p>SEE ALSO</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">buildah</span><span class="p" data-group-id="5177002486-1">(</span><span class="mi">1</span><span class="p" data-group-id="5177002486-1">)</span><span class="p">,</span><span class="w">  </span><span class="n">cpp</span><span class="p" data-group-id="5177002486-2">(</span><span class="mi">1</span><span class="p" data-group-id="5177002486-2">)</span><span class="p">,</span><span class="w">  </span><span class="n">buildah</span><span class="o">-</span><span class="n">login</span><span class="p" data-group-id="5177002486-3">(</span><span class="mi">1</span><span class="p" data-group-id="5177002486-3">)</span><span class="p">,</span><span class="w">  </span><span class="n">docker</span><span class="o">-</span><span class="n">login</span><span class="p" data-group-id="5177002486-4">(</span><span class="mi">1</span><span class="p" data-group-id="5177002486-4">)</span><span class="p">,</span><span class="w">  </span><span class="n">namespaces</span><span class="p" data-group-id="5177002486-5">(</span><span class="mi">7</span><span class="p" data-group-id="5177002486-5">)</span><span class="p">,</span><span class="w"> </span><span class="n">pid_namespaces</span><span class="p" data-group-id="5177002486-6">(</span><span class="mi">7</span><span class="p" data-group-id="5177002486-6">)</span><span class="p">,</span><span class="w"> </span><span class="n">containers</span><span class="o">-</span><span class="n">policy</span><span class="o">.</span><span class="n">json</span><span class="p" data-group-id="5177002486-7">(</span><span class="mi">5</span><span class="p" data-group-id="5177002486-7">)</span><span class="p">,</span><span class="w"> </span><span class="n">containers</span><span class="o">-</span><span class="n">registries</span><span class="o">.</span><span class="n">conf</span><span class="p" data-group-id="5177002486-8">(</span><span class="mi">5</span><span class="p" data-group-id="5177002486-8">)</span><span class="p">,</span><span class="w"> </span><span class="n">user_namespaces</span><span class="p" data-group-id="5177002486-9">(</span><span class="mi">7</span><span class="p" data-group-id="5177002486-9">)</span><span class="p">,</span><span class="w"> </span><span class="n">crun</span><span class="p" data-group-id="5177002486-10">(</span><span class="mi">1</span><span class="p" data-group-id="5177002486-10">)</span><span class="p">,</span><span class="w">
   </span><span class="n">runc</span><span class="p" data-group-id="5177002486-11">(</span><span class="mi">8</span><span class="p" data-group-id="5177002486-11">)</span></code></pre><p>FOOTNOTES</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="nc">Buildah</span><span class="w"> </span><span class="n">project</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">committed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">inclusivity</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">core</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">master</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">slave</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">propagation</span><span class="w"> </span><span class="n">terminology</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">here</span><span class="w">  </span><span class="n">is</span><span class="w">  </span><span class="n">problematic</span><span class="w">  </span><span class="ow">and</span><span class="w">  </span><span class="n">divisive</span><span class="p">,</span><span class="w">  </span><span class="ow">and</span><span class="w">
   </span><span class="n">should</span><span class="w">  </span><span class="n">be</span><span class="w">  </span><span class="n">changed</span><span class="o">.</span><span class="w">  </span><span class="nc">However</span><span class="p">,</span><span class="w">  </span><span class="n">these</span><span class="w"> </span><span class="n">terms</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">within</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">as</span><span class="o">-</span><span class="n">is</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">maintainers</span><span class="w"> </span><span class="n">rectify</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">usage</span><span class="p">,</span><span class="w"> </span><span class="nc">Buildah</span><span class="w">
   </span><span class="n">will</span><span class="w"> </span><span class="n">follow</span><span class="w"> </span><span class="n">suit</span><span class="w"> </span><span class="n">immediately</span><span class="o">.</span></code></pre><p>buildah                                                                                 April 2017                                                                        buildah-build(1)</p>
<div class="bottom-actions">
  <div class="bottom-actions-item">

      <a href="buildah-add.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
buildah-add
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="buildah-commit.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
buildah-commit
        </span>
      </a>

  </div>
</div>

      <footer class="footer">

        <p>
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.28.5) for the

            <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
