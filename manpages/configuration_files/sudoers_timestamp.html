<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.29.4">
    <meta name="project" content="Manpages v2.2.0">

    <title>sudoers_timestamp — Manpages v2.2.0</title>
    <link rel="stylesheet" href="dist/html-elixir-HHVY3JYD.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-XWGFFSCD.js"></script>
    <script src="dist/sidebar_items-2FA1BC71.js"></script>

      <script src="doc-versions.js"></script>

    <script async src="dist/html-JDI3AVDD.js"></script>

<link rel="stylesheet" href="assets/doc.css">
  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle" aria-label="toggle sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <i class="ri-search-2-line" aria-hidden="true" title="Submit search"></i>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <i class="ri-close-line ri-lg" aria-hidden="true" title="Cancel search"></i>
    </button>
    <label class="search-label">
      <p class="sr-only">Search</p>
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">

      <a href="https://kaisenlinux.org/manpages/">
        <img src="assets/logo.jpg" alt="Manpages" class="sidebar-projectImage">
      </a>

    <div class="sidebar-projectDetails">
      <a href="https://kaisenlinux.org/manpages/" class="sidebar-projectName" translate="no">
Manpages
      </a>
      <div class="sidebar-projectVersion" translate="no">
        v2.2.0
      </div>
    </div>
    <ul class="sidebar-listNav">
      <li><a id="extras-list-link" href="#full-list">MANUALS</a></li>


    </ul>
  </div>

  <div class="gradient"></div>
  <ul id="full-list"></ul>
</section>

<section class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>
<button class="icon-action display-settings">
  <i class="ri-settings-3-line"></i>
  <span class="sr-only">Settings</span>
</button>



  <span>sudoers_timestamp</span>
</h1>

<p>SUDOERS_TIMESTAMP(5)                                                   BSD File Formats Manual                                                  SUDOERS_TIMESTAMP(5)</p><p>NAME</p><pre><code class="makeup elixir" translate="no"><span class="w"> </span><span class="n">sudoers_timestamp</span><span class="w"> </span><span class="err">—</span><span class="w"> </span><span class="nc">Sudoers</span><span class="w"> </span><span class="nc">Time</span><span class="w"> </span><span class="nc">Stamp</span><span class="w"> </span><span class="nc">Format</span></code></pre><p>DESCRIPTION</p><pre><code class="makeup elixir" translate="no"><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">sudoers</span><span class="w"> </span><span class="n">plugin</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">per</span><span class="o">-</span><span class="n">user</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">stamp</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">credential</span><span class="w"> </span><span class="n">caching</span><span class="o">.</span><span class="w">  </span><span class="nc">Once</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">authenticated</span><span class="p">,</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">short</span><span class="w">
 </span><span class="n">period</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="7774420955-1">(</span><span class="mi">15</span><span class="w"> </span><span class="n">minutes</span><span class="w"> </span><span class="k">unless</span><span class="w"> </span><span class="n">overridden</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">timestamp_timeout</span><span class="w"> </span><span class="n">option</span><span class="p" data-group-id="7774420955-1">)</span><span class="o">.</span><span class="w">  </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">sudoers</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">separate</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">terminal</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">that</span><span class="w">
 </span><span class="n">a</span><span class="w"> </span><span class="n">user</span><span class="sc">&#39;s login sessions are authenticated separately.  The timestamp_type option can be used to select the type of time stamp record sudoers will use.

 A multi-record time stamp file format was introduced in sudo 1.8.10 that uses a single file per user.  Previously, a separate file was used for each user and
 terminal combination unless tty-based time stamps were disabled.  The new format is extensible and records of multiple types and versions may coexist within
 the same file.

 All records, regardless of type or version, begin with a 16-bit version number and a 16-bit record size.

 Time stamp records have the following structure:

 /* Time stamp entry types */
 #define TS_GLOBAL               0x01    /* not restricted by tty or ppid */
 #define TS_TTY                  0x02    /* restricted by tty */
 #define TS_PPID                 0x03    /* restricted by ppid */
 #define TS_LOCKEXCL             0x04    /* special lock record */

 /* Time stamp flags */
 #define TS_DISABLED             0x01    /* entry disabled */
 #define TS_ANYUID               0x02    /* ignore uid, only valid in key */

 struct timestamp_entry {
     unsigned short version;     /* version number */
     unsigned short size;        /* entry size */
     unsigned short type;        /* TS_GLOBAL, TS_TTY, TS_PPID */
     unsigned short flags;       /* TS_DISABLED, TS_ANYUID */
     uid_t auth_uid;             /* uid to authenticate as */
     pid_t sid;                  /* session ID associated with tty/ppid */
     struct timespec start_time; /* session/ppid start time */
     struct timespec ts;         /* time stamp (CLOCK_MONOTONIC) */
     union {
         dev_t ttydev;           /* tty device number */
         pid_t ppid;             /* parent pid */
     } u;
 };

 The timestamp_entry struct fields are as follows:

 version
       The version number of the timestamp_entry struct.  New entries are created with a version number of 2.  Records with different version numbers may coex‐
       ist in the same file but are not inter-operable.

 size  The size of the record in bytes.

 type  The record type, currently TS_GLOBAL, TS_TTY, or TS_PPID.

 flags
       Zero or more record flags which can be bit-wise ORed together.  Supported flags are TS_DISABLED, for records disabled via sudo -k and TS_ANYUID, which is
       used only when matching records.

 auth_uid
       The user-ID that was used for authentication.  Depending on the value of the rootpw, runaspw and targetpw options, the user-ID may be that of the invok‐
       ing user, the root user, the default runas user or the target user.

 sid   The ID of the user&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">terminal</span><span class="w"> </span><span class="n">session</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">present</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">session</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">matching</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="nc">TS_TTY</span><span class="o">.</span><span class="w">

 </span><span class="n">start_time</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">session</span><span class="w"> </span><span class="n">leader</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="nc">TS_TTY</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">parent</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="nc">TS_PPID</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">start_time</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">help</span><span class="w">
       </span><span class="n">prevent</span><span class="w"> </span><span class="n">re</span><span class="o">-</span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">stamp</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">logged</span><span class="w"> </span><span class="n">out</span><span class="o">.</span><span class="w">  </span><span class="nc">Not</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">easily</span><span class="w"> </span><span class="n">retrieve</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">process</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w">
       </span><span class="n">start_time</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">added</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">sudoers</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mf">1.8</span><span class="o">.</span><span class="mi">22</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">revision</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">timestamp_entry</span><span class="w"> </span><span class="n">struct</span><span class="o">.</span><span class="w">

 </span><span class="n">ts</span><span class="w">    </span><span class="nc">The</span><span class="w"> </span><span class="n">actual</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">stamp</span><span class="o">.</span><span class="w">  </span><span class="nc">A</span><span class="w"> </span><span class="n">monotonic</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="p" data-group-id="7774420955-2">(</span><span class="n">which</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">move</span><span class="w"> </span><span class="n">backward</span><span class="p" data-group-id="7774420955-2">)</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w">  </span><span class="nc">Where</span><span class="w"> </span><span class="n">possible</span><span class="p">,</span><span class="w"> </span><span class="n">sudoers</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">mono</span><span class="err">‐</span><span class="w">
       </span><span class="n">tonic</span><span class="w"> </span><span class="n">timer</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">increments</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="n">while</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">suspended</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">ts</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">sudo</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">difference</span><span class="w"> </span><span class="n">be</span><span class="err">‐</span><span class="w">
       </span><span class="n">tween</span><span class="w"> </span><span class="n">ts</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">less</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">timestamp_timeout</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">required</span><span class="o">.</span><span class="w">

 </span><span class="n">u</span><span class="o">.</span><span class="n">ttydev</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">terminal</span><span class="w"> </span><span class="n">associated</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">session</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="nc">TS_TTY</span><span class="o">.</span><span class="w">

 </span><span class="n">u</span><span class="o">.</span><span class="n">ppid</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">parent</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="nc">TS_PPID</span><span class="o">.</span></code></pre><p>LOCKING</p><pre><code class="makeup elixir" translate="no"><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">sudoers</span><span class="w"> </span><span class="n">versions</span><span class="w"> </span><span class="mf">1.8</span><span class="o">.</span><span class="mi">10</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="mf">1.8</span><span class="o">.</span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">entire</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">stamp</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">locked</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">exclusive</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">reading</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">writing</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w">  </span><span class="nc">Starting</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">sudoers</span><span class="w">
 </span><span class="mf">1.8</span><span class="o">.</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="n">individual</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">locked</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">stamp</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">entire</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">held</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">period</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">scheme</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">de</span><span class="err">‐</span><span class="w">
 </span><span class="n">scribed</span><span class="w"> </span><span class="n">below</span><span class="o">.</span><span class="w">

 </span><span class="nc">The</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">stamp</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="nc">TS_LOCKEXCL</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">prevent</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">adding</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="n">at</span><span class="w">
 </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w">  </span><span class="nc">Once</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">desired</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">stamp</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">located</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="p" data-group-id="9526713253-1">(</span><span class="ow">and</span><span class="w"> </span><span class="n">locked</span><span class="p" data-group-id="9526713253-1">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">TS_LOCKEXCL</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">unlocked</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">individual</span><span class="w">
 </span><span class="n">time</span><span class="w"> </span><span class="n">stamp</span><span class="w"> </span><span class="n">record</span><span class="p">,</span><span class="w"> </span><span class="n">however</span><span class="p">,</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">held</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">complete</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">sudoers</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">avoid</span><span class="w"> </span><span class="n">prompting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w">
 </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">once</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">pipeline</span><span class="o">.</span><span class="w">

 </span><span class="nc">Records</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="nc">TS_GLOBAL</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">locked</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">long</span><span class="w"> </span><span class="n">period</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">doing</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">interfere</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="n">processes</span><span class="o">.</span><span class="w">  </span><span class="nc">Instead</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">separate</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">record</span><span class="w">
 </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">prevent</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="n">processes</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">terminal</span><span class="w"> </span><span class="p" data-group-id="9526713253-2">(</span><span class="ow">or</span><span class="w"> </span><span class="n">parent</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="nc">ID</span><span class="p" data-group-id="9526713253-2">)</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">prompting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">time</span><span class="o">.</span></code></pre><p>SEE ALSO</p><pre><code class="makeup elixir" translate="no"><span class="w"> </span><span class="n">sudoers</span><span class="p" data-group-id="6535391344-1">(</span><span class="mi">5</span><span class="p" data-group-id="6535391344-1">)</span><span class="p">,</span><span class="w"> </span><span class="n">sudo</span><span class="p" data-group-id="6535391344-2">(</span><span class="mi">8</span><span class="p" data-group-id="6535391344-2">)</span></code></pre><p>HISTORY</p><pre><code class="makeup elixir" translate="no"><span class="w"> </span><span class="nc">Originally</span><span class="p">,</span><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">zero</span><span class="o">-</span><span class="n">length</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="sc">&#39;s modification time was used as the time stamp.  Later versions of sudo added restric‐
 tions on the ownership of the time stamp files and directory as well as checks on the validity of the time stamp itself.  Notable changes were introduced in
 the following sudo versions:

 1.4.0
       Support for tty-based time stamp file was added by appending the terminal name to the time stamp file name.

 1.6.2
       The time stamp file was replaced by a per-user directory which contained any tty-based time stamp files.

 1.6.3p2
       The target user name was added to the time stamp file name when the targetpw option was set.

 1.7.3
       Information about the terminal device was stored in tty-based time stamp files for validity checks.  This included the terminal device numbers, inode
       number and, on systems where it was not updated when the device was written to, the inode change time.  This helped prevent re-use of the time stamp file
       after logout.

 1.8.6p7
       The terminal session ID was added to tty-based time stamp files to prevent re-use of the time stamp by the same user in a different terminal session.  It
       also helped prevent re-use of the time stamp file on systems where the terminal device&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">inode</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">writing</span><span class="o">.</span><span class="w">

 </span><span class="mf">1.8</span><span class="o">.</span><span class="mi">10</span><span class="w">
       </span><span class="nc">A</span><span class="w"> </span><span class="n">new</span><span class="p">,</span><span class="w"> </span><span class="n">multi</span><span class="o">-</span><span class="n">record</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">stamp</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">introduced</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">user</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">terminal</span><span class="w"> </span><span class="n">device</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="n">since</span><span class="w">
       </span><span class="n">most</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">write</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">performed</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="nc">POSIX</span><span class="o">.</span><span class="w">

 </span><span class="mf">1.8</span><span class="o">.</span><span class="mi">15</span><span class="w">
       </span><span class="nc">Individual</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">locked</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">stamp</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">entire</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">held</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">complete</span><span class="o">.</span><span class="w">

 </span><span class="mf">1.8</span><span class="o">.</span><span class="mi">22</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">terminal</span><span class="w"> </span><span class="n">session</span><span class="w"> </span><span class="n">leader</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">parent</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">global</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">stamp</span><span class="w"> </span><span class="n">records</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">prevents</span><span class="w"> </span><span class="n">re</span><span class="o">-</span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">stamp</span><span class="w">
       </span><span class="n">file</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">logout</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">cases</span><span class="o">.</span><span class="w">

       </span><span class="nc">Support</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">added</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kernel</span><span class="o">-</span><span class="n">based</span><span class="w"> </span><span class="n">tty</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">stamps</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">OpenBSD</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="k" data-group-id="2540086439-1">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">on</span><span class="o">-</span><span class="n">disk</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">stamp</span><span class="w"> </span><span class="n">file</span><span class="o">.</span></code></pre><p>AUTHORS</p><pre><code class="makeup elixir" translate="no"><span class="w"> </span><span class="nc">Many</span><span class="w"> </span><span class="n">people</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">worked</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">years</span><span class="p">;</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">consists</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">written</span><span class="w"> </span><span class="n">primarily</span><span class="w"> </span><span class="ss">by</span><span class="p">:</span><span class="w">

       </span><span class="nc">Todd</span><span class="w"> </span><span class="nc">C</span><span class="o">.</span><span class="w"> </span><span class="nc">Miller</span><span class="w">

 </span><span class="nc">See</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">CONTRIBUTORS</span><span class="o">.</span><span class="n">md</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="n">distribution</span><span class="w"> </span><span class="p" data-group-id="8672807269-1">(</span><span class="n">https</span><span class="ss">://</span><span class="n">www</span><span class="o">.</span><span class="n">sudo</span><span class="o">.</span><span class="n">ws</span><span class="o">/</span><span class="n">about</span><span class="o">/</span><span class="n">contributors</span><span class="o">/</span><span class="p" data-group-id="8672807269-1">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">exhaustive</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">people</span><span class="w"> </span><span class="n">who</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">contributed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">sudo</span><span class="o">.</span></code></pre><p>BUGS</p><pre><code class="makeup elixir" translate="no"><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">believe</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">bug</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">sudo</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">submit</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">bug</span><span class="w"> </span><span class="n">report</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">https</span><span class="ss">://</span><span class="n">bugzilla</span><span class="o">.</span><span class="n">sudo</span><span class="o">.</span><span class="n">ws</span><span class="o">/</span></code></pre><p>SUPPORT</p><pre><code class="makeup elixir" translate="no"><span class="w"> </span><span class="nc">Limited</span><span class="w"> </span><span class="n">free</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sudo</span><span class="o">-</span><span class="n">users</span><span class="w"> </span><span class="n">mailing</span><span class="w"> </span><span class="n">list</span><span class="p">,</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">https</span><span class="ss">://</span><span class="n">www</span><span class="o">.</span><span class="n">sudo</span><span class="o">.</span><span class="n">ws</span><span class="o">/</span><span class="n">mailman</span><span class="o">/</span><span class="n">listinfo</span><span class="o">/</span><span class="n">sudo</span><span class="o">-</span><span class="n">users</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">subscribe</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">search</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">archives</span><span class="o">.</span></code></pre><p>DISCLAIMER</p><pre><code class="makeup elixir" translate="no"><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="err">“</span><span class="nc">AS</span><span class="w"> </span><span class="nc">IS</span><span class="err">”</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">express</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">implied</span><span class="w"> </span><span class="n">warranties</span><span class="p">,</span><span class="w"> </span><span class="n">including</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">limited</span><span class="w"> </span><span class="n">to</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">implied</span><span class="w"> </span><span class="n">warranties</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">merchantability</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">fitness</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">par</span><span class="err">‐</span><span class="w">
 </span><span class="n">ticular</span><span class="w"> </span><span class="n">purpose</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">disclaimed</span><span class="o">.</span><span class="w">  </span><span class="nc">See</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">LICENSE</span><span class="o">.</span><span class="n">md</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">distributed</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">https</span><span class="ss">://</span><span class="n">www</span><span class="o">.</span><span class="n">sudo</span><span class="o">.</span><span class="n">ws</span><span class="o">/</span><span class="n">about</span><span class="o">/</span><span class="n">license</span><span class="o">/</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">complete</span><span class="w"> </span><span class="n">details</span><span class="o">.</span></code></pre><p>Sudo 1.9.13p3                                                            September 13, 2022                                                            Sudo 1.9.13p3</p>
<div class="bottom-actions">
  <div class="bottom-actions-item">

      <a href="sudoers.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
sudoers
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="swtpm-localca-conf.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
swtpm-localca.conf
        </span>
      </a>

  </div>
</div>
      <footer class="footer">
        <p>

          <span class="line">
            <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
              Search HexDocs
            </button>

          </span>
        </p>

        <p class="built-using">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.29.4) for the

            <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
